<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Dynamic mapping | XData website </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Dynamic mapping | XData website ">
    <meta name="generator" content="docfx 2.48.0.0">
    
    <link rel="shortcut icon" href="../../.././images/cube.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../.././images/cube-white.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="mapping_dynamic.md">

<hr>
<p><a href="../../glossary.html">XData tutorial</a></p>
<p><a href="../mapping.html">Mapping common rules</a></p>
<hr>
<h2 id="dynamic-mapping">Dynamic mapping</h2>
<div class="TIP"><h5>Tip</h5><p>Before read this topic be sure to already readed <a href="../../glossary.html">Glosary</a> and <a href="../mapping.html">Common mapping rules</a> containg base infomation to better understanding this.</p>
</div>
<p>Dynamic mapping is defined using specific LINQ style expression as private static field of mapped class and it properties.</p>
<h2 id="dynamic-mapping-sample">Dynamic mapping sample</h2>
<div class="lang-plantUml" \=""> <?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="770px" preserveaspectratio="none" style="width:638px;height:770px;" version="1.1" viewbox="0 0 638 770" width="638px" zoomandpan="magnify"><defs><filter height="300%" id="f18k8bubto19uw" width="300%" x="-1" y="-1"><fegaussianblur result="blurOut" stddeviation="2.0"></fegaussianblur><fecolormatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></fecolormatrix><feoffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"></feoffset><feblend in="SourceGraphic" in2="blurOut3" mode="normal"></feblend></filter></defs><g><!--MD5=[9fbc3a7cfb9f92e84de8970988e48bb2]
class t_catalogue--><rect fill="#FFFFFF" filter="url(#f18k8bubto19uw)" height="91.1875" id="t_catalogue" style="stroke: #000000; stroke-width: 1.0;" width="96.3333" x="30.5" y="8"></rect><rect fill="#D3D3D3" height="23.9688" style="stroke: #000000; stroke-width: 1.0;" width="96.3333" x="30.5" y="8"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthadjust="spacingAndGlyphs" textlength="74" x="41.6667" y="24.1387">t_catalogue</text><line style="stroke: #000000; stroke-width: 1.5;" x1="31.5" x2="125.8333" y1="31.9688" y2="31.9688"></line><path d="M42.5417,38.6901 C41.2767,38.6901 40.25,39.7168 40.25,40.9818 C40.25,41.1284 40.2803,41.254 40.3078,41.3833 L37.5,44.191 L37.5,46.0244 L40.25,46.0244 L40.25,44.191 L42.0833,44.191 L42.0833,43.2744 L42.1411,43.2166 C42.2694,43.2441 42.395,43.2744 42.5426,43.2744 C43.8076,43.2744 44.8343,42.2477 44.8343,40.9827 C44.8343,39.7177 43.8076,38.691 42.5426,38.691 M43.0009,39.6077 C43.5051,39.6077 43.9176,40.0202 43.9176,40.5244 C43.9176,41.0285 43.5051,41.441 43.0009,41.441 C42.4968,41.441 42.0843,41.0285 42.0843,40.5244 C42.0843,40.0202 42.4968,39.6077 43.0009,39.6077 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="71" x="49.8333" y="46.1792">catalogue_id</text><line style="stroke: #000000; stroke-width: 1.0;" x1="31.5" x2="125.8333" y1="52.7734" y2="52.7734"></line><path d="M42.0833,60.4115 L39.3333,65.9115 L40.25,65.9115 L43,60.4115 L42.0833,60.4115 M38.4167,61.3281 L37.5,63.1615 L38.4167,64.9948 L39.3333,64.9948 L38.4167,63.1615 L39.3333,61.3281 L38.4167,61.3281 M43,61.3281 L43.9167,63.1615 L43,64.9948 L43.9167,64.9948 L44.8333,63.1615 L43.9167,61.3281 L43,61.3281 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="27" x="49.8333" y="66.9839">code</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="32" x="36.5" y="79.7886">name</text><path d="M41.1667,85.1042 C39.1408,85.1042 37.5,86.745 37.5,88.7708 C37.5,90.7967 39.1408,92.4375 41.1667,92.4375 C43.1925,92.4375 44.8333,90.7967 44.8333,88.7708 C44.8333,86.745 43.1925,85.1042 41.1667,85.1042 M41.1667,86.0208 L43.9167,88.7708 L41.1667,91.5208 L41.1667,89.6875 L38.4167,89.6875 L38.4167,87.8542 L41.1667,87.8542 L41.1667,86.0208 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="0" x="49.8333" y="92.5933"></text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthadjust="spacingAndGlyphs" textlength="53" x="49.8333" y="92.5933">parent_id</text><!--MD5=[ea6ea2e31c0cbff1b909b1f0bd59093e]
class t_customer--><rect fill="#FFFFFF" filter="url(#f18k8bubto19uw)" height="78.3828" id="t_customer" style="stroke: #000000; stroke-width: 1.0;" width="95.3333" x="6" y="681"></rect><rect fill="#D3D3D3" height="23.9688" style="stroke: #000000; stroke-width: 1.0;" width="95.3333" x="6" y="681"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthadjust="spacingAndGlyphs" textlength="70" x="18.6667" y="697.1387">t_customer</text><line style="stroke: #000000; stroke-width: 1.5;" x1="7" x2="100.3333" y1="704.9688" y2="704.9688"></line><path d="M18.0417,711.6901 C16.7767,711.6901 15.75,712.7168 15.75,713.9818 C15.75,714.1284 15.7802,714.254 15.8078,714.3833 L13,717.191 L13,719.0244 L15.75,719.0244 L15.75,717.191 L17.5833,717.191 L17.5833,716.2744 L17.6411,716.2166 C17.7694,716.2441 17.895,716.2744 18.0426,716.2744 C19.3076,716.2744 20.3342,715.2477 20.3342,713.9827 C20.3342,712.7177 19.3076,711.691 18.0426,711.691 M18.5009,712.6077 C19.0051,712.6077 19.4176,713.0202 19.4176,713.5244 C19.4176,714.0285 19.0051,714.441 18.5009,714.441 C17.9968,714.441 17.5843,714.0285 17.5843,713.5244 C17.5843,713.0202 17.9968,712.6077 18.5009,712.6077 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="70" x="25.3333" y="719.1792">customer_id</text><line style="stroke: #000000; stroke-width: 1.0;" x1="7" x2="100.3333" y1="725.7734" y2="725.7734"></line><path d="M17.5833,733.4115 L14.8333,738.9115 L15.75,738.9115 L18.5,733.4115 L17.5833,733.4115 M13.9167,734.3281 L13,736.1615 L13.9167,737.9948 L14.8333,737.9948 L13.9167,736.1615 L14.8333,734.3281 L13.9167,734.3281 M18.5,734.3281 L19.4167,736.1615 L18.5,737.9948 L19.4167,737.9948 L20.3333,736.1615 L19.4167,734.3281 L18.5,734.3281 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="27" x="25.3333" y="739.9839">code</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="32" x="12" y="752.7886">name</text><!--MD5=[a6ce46e431db16f1c4014df928aac3e8]
class t_doc_cust_type--><rect fill="#FFFFFF" filter="url(#f18k8bubto19uw)" height="78.3828" id="t_doc_cust_type" style="stroke: #000000; stroke-width: 1.0;" width="121.3333" x="136" y="681"></rect><rect fill="#D3D3D3" height="23.9688" style="stroke: #000000; stroke-width: 1.0;" width="121.3333" x="136" y="681"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthadjust="spacingAndGlyphs" textlength="100" x="146.6667" y="697.1387">t_doc_cust_type</text><line style="stroke: #000000; stroke-width: 1.5;" x1="137" x2="256.3333" y1="704.9688" y2="704.9688"></line><path d="M148.0417,711.6901 C146.7767,711.6901 145.75,712.7168 145.75,713.9818 C145.75,714.1284 145.7803,714.254 145.8078,714.3833 L143,717.191 L143,719.0244 L145.75,719.0244 L145.75,717.191 L147.5833,717.191 L147.5833,716.2744 L147.6411,716.2166 C147.7694,716.2441 147.895,716.2744 148.0426,716.2744 C149.3076,716.2744 150.3343,715.2477 150.3343,713.9827 C150.3343,712.7177 149.3076,711.691 148.0426,711.691 M148.5009,712.6077 C149.0051,712.6077 149.4176,713.0202 149.4176,713.5244 C149.4176,714.0285 149.0051,714.441 148.5009,714.441 C147.9968,714.441 147.5843,714.0285 147.5843,713.5244 C147.5843,713.0202 147.9968,712.6077 148.5009,712.6077 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="96" x="155.3333" y="719.1792">doc_cust_type_id</text><line style="stroke: #000000; stroke-width: 1.0;" x1="137" x2="256.3333" y1="725.7734" y2="725.7734"></line><path d="M147.5833,733.4115 L144.8333,738.9115 L145.75,738.9115 L148.5,733.4115 L147.5833,733.4115 M143.9167,734.3281 L143,736.1615 L143.9167,737.9948 L144.8333,737.9948 L143.9167,736.1615 L144.8333,734.3281 L143.9167,734.3281 M148.5,734.3281 L149.4167,736.1615 L148.5,737.9948 L149.4167,737.9948 L150.3333,736.1615 L149.4167,734.3281 L148.5,734.3281 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="27" x="155.3333" y="739.9839">code</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="32" x="142" y="752.7886">name</text><!--MD5=[bccea5d0c54fc84e4bad16ab69fd73e7]
class t_doc_type--><rect fill="#FFFFFF" filter="url(#f18k8bubto19uw)" height="78.3828" id="t_doc_type" style="stroke: #000000; stroke-width: 1.0;" width="91.3333" x="124" y="344.5"></rect><rect fill="#D3D3D3" height="23.9688" style="stroke: #000000; stroke-width: 1.0;" width="91.3333" x="124" y="344.5"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthadjust="spacingAndGlyphs" textlength="67" x="136.1667" y="360.6387">t_doc_type</text><line style="stroke: #000000; stroke-width: 1.5;" x1="125" x2="214.3333" y1="368.4688" y2="368.4688"></line><path d="M136.0417,375.1901 C134.7767,375.1901 133.75,376.2168 133.75,377.4818 C133.75,377.6284 133.7803,377.754 133.8078,377.8833 L131,380.691 L131,382.5244 L133.75,382.5244 L133.75,380.691 L135.5833,380.691 L135.5833,379.7744 L135.6411,379.7166 C135.7694,379.7441 135.895,379.7744 136.0426,379.7744 C137.3076,379.7744 138.3343,378.7477 138.3343,377.4827 C138.3343,376.2177 137.3076,375.191 136.0426,375.191 M136.5009,376.1077 C137.0051,376.1077 137.4176,376.5202 137.4176,377.0244 C137.4176,377.5285 137.0051,377.941 136.5009,377.941 C135.9968,377.941 135.5843,377.5285 135.5843,377.0244 C135.5843,376.5202 135.9968,376.1077 136.5009,376.1077 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="66" x="143.3333" y="382.6792">doc_type_id</text><line style="stroke: #000000; stroke-width: 1.0;" x1="125" x2="214.3333" y1="389.2734" y2="389.2734"></line><path d="M135.5833,396.9115 L132.8333,402.4115 L133.75,402.4115 L136.5,396.9115 L135.5833,396.9115 M131.9167,397.8281 L131,399.6615 L131.9167,401.4948 L132.8333,401.4948 L131.9167,399.6615 L132.8333,397.8281 L131.9167,397.8281 M136.5,397.8281 L137.4167,399.6615 L136.5,401.4948 L137.4167,401.4948 L138.3333,399.6615 L137.4167,397.8281 L136.5,397.8281 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="27" x="143.3333" y="403.4839">code</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="32" x="130" y="416.2886">name</text><!--MD5=[5ea577eca533bfca935d04f775d3f167]
class t_doc--><rect fill="#FFFFFF" filter="url(#f18k8bubto19uw)" height="124.7969" id="t_doc" style="stroke: #000000; stroke-width: 1.0;" width="91.3333" x="299" y="321"></rect><rect fill="#D3D3D3" height="23.9688" style="stroke: #000000; stroke-width: 1.0;" width="91.3333" x="299" y="321"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthadjust="spacingAndGlyphs" textlength="34" x="327.6667" y="337.1387">t_doc</text><line style="stroke: #000000; stroke-width: 1.5;" x1="300" x2="389.3333" y1="344.9688" y2="344.9688"></line><path d="M311.0417,351.6901 C309.7767,351.6901 308.75,352.7168 308.75,353.9818 C308.75,354.1284 308.7803,354.254 308.8078,354.3833 L306,357.191 L306,359.0244 L308.75,359.0244 L308.75,357.191 L310.5833,357.191 L310.5833,356.2744 L310.6411,356.2166 C310.7694,356.2441 310.895,356.2744 311.0426,356.2744 C312.3076,356.2744 313.3343,355.2477 313.3343,353.9827 C313.3343,352.7177 312.3076,351.691 311.0426,351.691 M311.5009,352.6077 C312.0051,352.6077 312.4176,353.0202 312.4176,353.5244 C312.4176,354.0285 312.0051,354.441 311.5009,354.441 C310.9968,354.441 310.5843,354.0285 310.5843,353.5244 C310.5843,353.0202 310.9968,352.6077 311.5009,352.6077 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="36" x="318.3333" y="359.1792">doc_id</text><line style="stroke: #000000; stroke-width: 1.0;" x1="300" x2="389.3333" y1="365.7734" y2="365.7734"></line><path d="M309.6667,372.4948 C307.6408,372.4948 306,374.1356 306,376.1615 C306,378.1873 307.6408,379.8281 309.6667,379.8281 C311.6925,379.8281 313.3333,378.1873 313.3333,376.1615 C313.3333,374.1356 311.6925,372.4948 309.6667,372.4948 M309.6667,373.4115 L312.4167,376.1615 L309.6667,378.9115 L309.6667,377.0781 L306.9167,377.0781 L306.9167,375.2448 L309.6667,375.2448 L309.6667,373.4115 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="66" x="318.3333" y="379.9839">doc_type_id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="51" x="305" y="392.7886">doc_date</text><line style="stroke: #000000; stroke-width: 1.0;" x1="300" x2="389.3333" y1="399.3828" y2="399.3828"></line><path d="M306,406.1042 L306,408.8542 L310.5833,413.4375 L313.3333,410.6875 L308.75,406.1042 L306,406.1042 M307.8333,407.0208 C308.3375,407.0208 308.75,407.4333 308.75,407.9375 C308.75,408.4417 308.3375,408.8542 307.8333,408.8542 C307.3292,408.8542 306.9167,408.4417 306.9167,407.9375 C306.9167,407.4333 307.3292,407.0208 307.8333,407.0208 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="61" x="318.3333" y="413.5933">generation</text><path d="M309.6667,418.9089 C307.6473,418.9089 306,420.5561 306,422.5755 C306,424.5949 307.6473,426.2422 309.6667,426.2422 C311.6861,426.2422 313.3333,424.5949 313.3333,422.5755 C313.3333,420.5561 311.6861,418.9089 309.6667,418.9089 M309.6667,419.8255 C311.1911,419.8255 312.4167,421.0511 312.4167,422.5755 C312.4167,424.0999 311.1911,425.3255 309.6667,425.3255 C308.1423,425.3255 306.9167,424.0999 306.9167,422.5755 C306.9167,421.0511 308.1423,419.8255 309.6667,419.8255 M309.2083,420.7422 L309.2083,422.7763 L309.3513,422.8909 L309.8097,423.3492 L310.125,423.6929 L310.7841,423.0339 L310.4403,422.7185 L310.125,422.4032 L310.125,420.7413 L309.2083,420.7413 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="48" x="318.3333" y="426.3979">changed</text><path d="M309.6667,431.7135 C308.6538,431.7135 307.8333,432.7393 307.8333,434.0052 C307.8333,435.2711 308.6538,436.2969 309.6667,436.2969 C310.6796,436.2969 311.5,435.2711 311.5,434.0052 C311.5,432.7393 310.6796,431.7135 309.6667,431.7135 M307.7472,436.2969 C306.7663,436.3335 306,437.1402 306,438.1302 L306,439.0469 L313.3333,439.0469 L313.3333,438.1302 C313.3333,437.1402 312.567,436.3335 311.5862,436.2969 C311.0912,436.856 310.4092,437.2135 309.6667,437.2135 C308.9242,437.2135 308.2422,436.856 307.7472,436.2969 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="37" x="318.3333" y="439.2026">author</text><!--MD5=[d4ba8adfb5df751cf422e2fad2a28e94]
class t_catalogue_doc--><rect fill="#FFFFFF" filter="url(#f18k8bubto19uw)" height="65.5781" id="t_catalogue_doc" style="stroke: #000000; stroke-width: 1.0;" width="109.6667" x="23.5" y="177"></rect><rect fill="#D3D3D3" height="23.9688" style="stroke: #000000; stroke-width: 1.0;" width="109.6667" x="23.5" y="177"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthadjust="spacingAndGlyphs" textlength="103" x="26.8333" y="193.1387">t_catalogue_doc</text><line style="stroke: #000000; stroke-width: 1.0;" x1="24.5" x2="132.1667" y1="200.9688" y2="200.9688"></line><path d="M35.5417,207.6901 C34.2767,207.6901 33.25,208.7168 33.25,209.9818 C33.25,210.1284 33.2803,210.254 33.3078,210.3833 L30.5,213.191 L30.5,215.0244 L33.25,215.0244 L33.25,213.191 L35.0833,213.191 L35.0833,212.2744 L35.1411,212.2166 C35.2694,212.2441 35.395,212.2744 35.5426,212.2744 C36.8076,212.2744 37.8343,211.2477 37.8343,209.9827 C37.8343,208.7177 36.8076,207.691 35.5426,207.691 M36.0009,208.6077 C36.5051,208.6077 36.9176,209.0202 36.9176,209.5244 C36.9176,210.0285 36.5051,210.441 36.0009,210.441 C35.4968,210.441 35.0843,210.0285 35.0843,209.5244 C35.0843,209.0202 35.4968,208.6077 36.0009,208.6077 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="0" x="42.8333" y="215.1792"></text><path d="M47.5,207.6901 C45.4742,207.6901 43.8333,209.3309 43.8333,211.3568 C43.8333,213.3826 45.4742,215.0234 47.5,215.0234 C49.5258,215.0234 51.1667,213.3826 51.1667,211.3568 C51.1667,209.3309 49.5258,207.6901 47.5,207.6901 M47.5,208.6068 L50.25,211.3568 L47.5,214.1068 L47.5,212.2734 L44.75,212.2734 L44.75,210.4401 L47.5,210.4401 L47.5,208.6068 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="71" x="56.1667" y="215.1792">catalogue_id</text><path d="M35.5417,220.4948 C34.2767,220.4948 33.25,221.5215 33.25,222.7865 C33.25,222.9331 33.2803,223.0587 33.3078,223.188 L30.5,225.9957 L30.5,227.829 L33.25,227.829 L33.25,225.9957 L35.0833,225.9957 L35.0833,225.079 L35.1411,225.0213 C35.2694,225.0488 35.395,225.079 35.5426,225.079 C36.8076,225.079 37.8343,224.0524 37.8343,222.7874 C37.8343,221.5224 36.8076,220.4957 35.5426,220.4957 M36.0009,221.4124 C36.5051,221.4124 36.9176,221.8249 36.9176,222.329 C36.9176,222.8332 36.5051,223.2457 36.0009,223.2457 C35.4968,223.2457 35.0843,222.8332 35.0843,222.329 C35.0843,221.8249 35.4968,221.4124 36.0009,221.4124 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="0" x="42.8333" y="227.9839"></text><path d="M47.5,220.4948 C45.4742,220.4948 43.8333,222.1356 43.8333,224.1615 C43.8333,226.1873 45.4742,227.8281 47.5,227.8281 C49.5258,227.8281 51.1667,226.1873 51.1667,224.1615 C51.1667,222.1356 49.5258,220.4948 47.5,220.4948 M47.5,221.4115 L50.25,224.1615 L47.5,226.9115 L47.5,225.0781 L44.75,225.0781 L44.75,223.2448 L47.5,223.2448 L47.5,221.4115 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="36" x="56.1667" y="227.9839">doc_id</text><line style="stroke: #000000; stroke-width: 1.0;" x1="24.5" x2="132.1667" y1="234.5781" y2="234.5781"></line><!--MD5=[8cca3b0685271c670c4226b30b01cbcf]
class t_doc_cust--><rect fill="#FFFFFF" filter="url(#f18k8bubto19uw)" height="91.1875" id="t_doc_cust" style="stroke: #000000; stroke-width: 1.0;" width="121.3333" x="135" y="518"></rect><rect fill="#D3D3D3" height="23.9688" style="stroke: #000000; stroke-width: 1.0;" width="121.3333" x="135" y="518"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthadjust="spacingAndGlyphs" textlength="67" x="162.1667" y="534.1387">t_doc_cust</text><line style="stroke: #000000; stroke-width: 1.5;" x1="136" x2="255.3333" y1="541.9688" y2="541.9688"></line><path d="M147.0417,548.6901 C145.7767,548.6901 144.75,549.7168 144.75,550.9818 C144.75,551.1284 144.7803,551.254 144.8078,551.3833 L142,554.191 L142,556.0244 L144.75,556.0244 L144.75,554.191 L146.5833,554.191 L146.5833,553.2744 L146.6411,553.2166 C146.7694,553.2441 146.895,553.2744 147.0426,553.2744 C148.3076,553.2744 149.3343,552.2477 149.3343,550.9827 C149.3343,549.7177 148.3076,548.691 147.0426,548.691 M147.5009,549.6077 C148.0051,549.6077 148.4176,550.0202 148.4176,550.5244 C148.4176,551.0285 148.0051,551.441 147.5009,551.441 C146.9968,551.441 146.5843,551.0285 146.5843,550.5244 C146.5843,550.0202 146.9968,549.6077 147.5009,549.6077 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="66" x="154.3333" y="556.1792">doc_cust_id</text><line style="stroke: #000000; stroke-width: 1.0;" x1="136" x2="255.3333" y1="562.7734" y2="562.7734"></line><path d="M145.6667,569.4948 C143.6408,569.4948 142,571.1356 142,573.1615 C142,575.1873 143.6408,576.8281 145.6667,576.8281 C147.6925,576.8281 149.3333,575.1873 149.3333,573.1615 C149.3333,571.1356 147.6925,569.4948 145.6667,569.4948 M145.6667,570.4115 L148.4167,573.1615 L145.6667,575.9115 L145.6667,574.0781 L142.9167,574.0781 L142.9167,572.2448 L145.6667,572.2448 L145.6667,570.4115 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="36" x="154.3333" y="576.9839">doc_id</text><path d="M145.6667,582.2995 C143.6408,582.2995 142,583.9403 142,585.9661 C142,587.992 143.6408,589.6328 145.6667,589.6328 C147.6925,589.6328 149.3333,587.992 149.3333,585.9661 C149.3333,583.9403 147.6925,582.2995 145.6667,582.2995 M145.6667,583.2161 L148.4167,585.9661 L145.6667,588.7161 L145.6667,586.8828 L142.9167,586.8828 L142.9167,585.0495 L145.6667,585.0495 L145.6667,583.2161 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="70" x="154.3333" y="589.7886">customer_id</text><path d="M145.6667,595.1042 C143.6408,595.1042 142,596.745 142,598.7708 C142,600.7967 143.6408,602.4375 145.6667,602.4375 C147.6925,602.4375 149.3333,600.7967 149.3333,598.7708 C149.3333,596.745 147.6925,595.1042 145.6667,595.1042 M145.6667,596.0208 L148.4167,598.7708 L145.6667,601.5208 L145.6667,599.6875 L142.9167,599.6875 L142.9167,597.8542 L145.6667,597.8542 L145.6667,596.0208 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="96" x="154.3333" y="602.5933">doc_cust_type_id</text><!--MD5=[fd8c5e68644f1f4fc0b14eca97226ae4]
class t_doc_delivery--><rect fill="#FFFFFF" filter="url(#f18k8bubto19uw)" height="78.3828" id="t_doc_delivery" style="stroke: #000000; stroke-width: 1.0;" width="93" x="169" y="171"></rect><rect fill="#D3D3D3" height="23.9688" style="stroke: #000000; stroke-width: 1.0;" width="93" x="169" y="171"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthadjust="spacingAndGlyphs" textlength="87" x="172" y="187.1387">t_doc_delivery</text><line style="stroke: #000000; stroke-width: 1.5;" x1="170" x2="261" y1="194.9688" y2="194.9688"></line><path d="M181.0417,201.6901 C179.7767,201.6901 178.75,202.7168 178.75,203.9818 C178.75,204.1284 178.7803,204.254 178.8078,204.3833 L176,207.191 L176,209.0244 L178.75,209.0244 L178.75,207.191 L180.5833,207.191 L180.5833,206.2744 L180.6411,206.2166 C180.7694,206.2441 180.895,206.2744 181.0426,206.2744 C182.3076,206.2744 183.3343,205.2477 183.3343,203.9827 C183.3343,202.7177 182.3076,201.691 181.0426,201.691 M181.5009,202.6077 C182.0051,202.6077 182.4176,203.0202 182.4176,203.5244 C182.4176,204.0285 182.0051,204.441 181.5009,204.441 C180.9968,204.441 180.5843,204.0285 180.5843,203.5244 C180.5843,203.0202 180.9968,202.6077 181.5009,202.6077 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="0" x="188.3333" y="209.1792"></text><path d="M193,201.6901 C190.9742,201.6901 189.3333,203.3309 189.3333,205.3568 C189.3333,207.3826 190.9742,209.0234 193,209.0234 C195.0258,209.0234 196.6667,207.3826 196.6667,205.3568 C196.6667,203.3309 195.0258,201.6901 193,201.6901 M193,202.6068 L195.75,205.3568 L193,208.1068 L193,206.2734 L190.25,206.2734 L190.25,204.4401 L193,204.4401 L193,202.6068 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="36" x="201.6667" y="209.1792">doc_id</text><line style="stroke: #000000; stroke-width: 1.0;" x1="170" x2="261" y1="215.7734" y2="215.7734"></line><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="74" x="175" y="229.9839">delivery_type</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="75" x="175" y="242.7886">delivery_date</text><!--MD5=[dd40a5851c55ff9d7da9b59b2cdb5061]
class t_doc_number--><rect fill="#FFFFFF" filter="url(#f18k8bubto19uw)" height="65.5781" id="t_doc_number" style="stroke: #000000; stroke-width: 1.0;" width="94" x="297.5" y="177"></rect><rect fill="#D3D3D3" height="23.9688" style="stroke: #000000; stroke-width: 1.0;" width="94" x="297.5" y="177"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthadjust="spacingAndGlyphs" textlength="88" x="300.5" y="193.1387">t_doc_number</text><line style="stroke: #000000; stroke-width: 1.5;" x1="298.5" x2="390.5" y1="200.9688" y2="200.9688"></line><path d="M309.5417,207.6901 C308.2767,207.6901 307.25,208.7168 307.25,209.9818 C307.25,210.1284 307.2803,210.254 307.3078,210.3833 L304.5,213.191 L304.5,215.0244 L307.25,215.0244 L307.25,213.191 L309.0833,213.191 L309.0833,212.2744 L309.1411,212.2166 C309.2694,212.2441 309.395,212.2744 309.5426,212.2744 C310.8076,212.2744 311.8343,211.2477 311.8343,209.9827 C311.8343,208.7177 310.8076,207.691 309.5426,207.691 M310.0009,208.6077 C310.5051,208.6077 310.9176,209.0202 310.9176,209.5244 C310.9176,210.0285 310.5051,210.441 310.0009,210.441 C309.4968,210.441 309.0843,210.0285 309.0843,209.5244 C309.0843,209.0202 309.4968,208.6077 310.0009,208.6077 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="0" x="316.8333" y="215.1792"></text><path d="M321.5,207.6901 C319.4742,207.6901 317.8333,209.3309 317.8333,211.3568 C317.8333,213.3826 319.4742,215.0234 321.5,215.0234 C323.5258,215.0234 325.1667,213.3826 325.1667,211.3568 C325.1667,209.3309 323.5258,207.6901 321.5,207.6901 M321.5,208.6068 L324.25,211.3568 L321.5,214.1068 L321.5,212.2734 L318.75,212.2734 L318.75,210.4401 L321.5,210.4401 L321.5,208.6068 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="36" x="330.1667" y="215.1792">doc_id</text><line style="stroke: #000000; stroke-width: 1.0;" x1="298.5" x2="390.5" y1="221.7734" y2="221.7734"></line><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="32" x="303.5" y="235.9839">numb</text><!--MD5=[710d3dc0240fd500b1d510e138be1447]
class t_doc_scan--><rect fill="#FFFFFF" filter="url(#f18k8bubto19uw)" height="65.5781" id="t_doc_scan" style="stroke: #000000; stroke-width: 1.0;" width="76" x="426.5" y="177"></rect><rect fill="#D3D3D3" height="23.9688" style="stroke: #000000; stroke-width: 1.0;" width="76" x="426.5" y="177"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthadjust="spacingAndGlyphs" textlength="70" x="429.5" y="193.1387">t_doc_scan</text><line style="stroke: #000000; stroke-width: 1.5;" x1="427.5" x2="501.5" y1="200.9688" y2="200.9688"></line><path d="M438.5417,207.6901 C437.2767,207.6901 436.25,208.7168 436.25,209.9818 C436.25,210.1284 436.2803,210.254 436.3078,210.3833 L433.5,213.191 L433.5,215.0244 L436.25,215.0244 L436.25,213.191 L438.0833,213.191 L438.0833,212.2744 L438.1411,212.2166 C438.2694,212.2441 438.395,212.2744 438.5426,212.2744 C439.8076,212.2744 440.8343,211.2477 440.8343,209.9827 C440.8343,208.7177 439.8076,207.691 438.5426,207.691 M439.0009,208.6077 C439.5051,208.6077 439.9176,209.0202 439.9176,209.5244 C439.9176,210.0285 439.5051,210.441 439.0009,210.441 C438.4968,210.441 438.0843,210.0285 438.0843,209.5244 C438.0843,209.0202 438.4968,208.6077 439.0009,208.6077 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="0" x="445.8333" y="215.1792"></text><path d="M450.5,207.6901 C448.4742,207.6901 446.8333,209.3309 446.8333,211.3568 C446.8333,213.3826 448.4742,215.0234 450.5,215.0234 C452.5258,215.0234 454.1667,213.3826 454.1667,211.3568 C454.1667,209.3309 452.5258,207.6901 450.5,207.6901 M450.5,208.6068 L453.25,211.3568 L450.5,214.1068 L450.5,212.2734 L447.75,212.2734 L447.75,210.4401 L450.5,210.4401 L450.5,208.6068 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="36" x="459.1667" y="215.1792">doc_id</text><line style="stroke: #000000; stroke-width: 1.0;" x1="427.5" x2="501.5" y1="221.7734" y2="221.7734"></line><path d="M433.5,228.4948 L433.5,235.8281 L440.8333,235.8281 L440.8333,233.651 A0.4583,0.4583 0 0 0 440.8333,233.4503 L440.8333,228.4948 L433.5,228.4948 M434.4167,229.4115 L439.9167,229.4115 L439.9167,233.0781 L438.5417,233.0781 A0.4583,0.4583 0 0 0 438.4555,233.0781 A0.4602,0.4602 0 1 0 438.5417,233.9948 L439.9167,233.9948 L439.9167,234.9115 L434.4167,234.9115 L434.4167,229.4115 M436.7083,230.3281 C435.9475,230.3281 435.3333,230.9423 435.3333,231.7031 C435.3333,232.6198 436.7083,233.9948 436.7083,233.9948 C436.7083,233.9948 438.0833,232.6198 438.0833,231.7031 C438.0833,230.9423 437.4692,230.3281 436.7083,230.3281 M436.7083,231.2448 C436.965,231.2448 437.1667,231.4465 437.1667,231.7031 C437.1667,231.9598 436.965,232.1615 436.7083,232.1615 C436.4517,232.1615 436.25,231.9598 436.25,231.7031 C436.25,231.4465 436.4517,231.2448 436.7083,231.2448 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="27" x="445.8333" y="235.9839">scan</text><!--MD5=[5937349b424f6b33ad58af94594dfd63]
class t_doc_source--><rect fill="#FFFFFF" filter="url(#f18k8bubto19uw)" height="65.5781" id="t_doc_source" style="stroke: #000000; stroke-width: 1.0;" width="89" x="538" y="177"></rect><rect fill="#D3D3D3" height="23.9688" style="stroke: #000000; stroke-width: 1.0;" width="89" x="538" y="177"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthadjust="spacingAndGlyphs" textlength="83" x="541" y="193.1387">t_doc_source</text><line style="stroke: #000000; stroke-width: 1.5;" x1="539" x2="626" y1="200.9688" y2="200.9688"></line><path d="M550.0417,207.6901 C548.7767,207.6901 547.75,208.7168 547.75,209.9818 C547.75,210.1284 547.7803,210.254 547.8078,210.3833 L545,213.191 L545,215.0244 L547.75,215.0244 L547.75,213.191 L549.5833,213.191 L549.5833,212.2744 L549.6411,212.2166 C549.7694,212.2441 549.895,212.2744 550.0426,212.2744 C551.3076,212.2744 552.3343,211.2477 552.3343,209.9827 C552.3343,208.7177 551.3076,207.691 550.0426,207.691 M550.5009,208.6077 C551.0051,208.6077 551.4176,209.0202 551.4176,209.5244 C551.4176,210.0285 551.0051,210.441 550.5009,210.441 C549.9968,210.441 549.5843,210.0285 549.5843,209.5244 C549.5843,209.0202 549.9968,208.6077 550.5009,208.6077 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="0" x="557.3333" y="215.1792"></text><path d="M562,207.6901 C559.9742,207.6901 558.3333,209.3309 558.3333,211.3568 C558.3333,213.3826 559.9742,215.0234 562,215.0234 C564.0258,215.0234 565.6667,213.3826 565.6667,211.3568 C565.6667,209.3309 564.0258,207.6901 562,207.6901 M562,208.6068 L564.75,211.3568 L562,214.1068 L562,212.2734 L559.25,212.2734 L559.25,210.4401 L562,210.4401 L562,208.6068 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="36" x="570.6667" y="215.1792">doc_id</text><line style="stroke: #000000; stroke-width: 1.0;" x1="539" x2="626" y1="221.7734" y2="221.7734"></line><path d="M545,228.4948 L545,235.8281 L551.4167,235.8281 L551.4167,232.1615 L547.75,232.1615 L547.75,228.4948 L545,228.4948 M548.6667,228.4948 L548.6667,231.2448 L551.4167,231.2448 L548.6667,228.4948 M545.9167,230.3281 L546.8333,230.3281 L546.8333,231.2448 L545.9167,231.2448 L545.9167,230.3281 M545.9167,232.1615 L546.8333,232.1615 L546.8333,233.0781 L545.9167,233.0781 L545.9167,232.1615 M545.9167,233.9948 L549.5833,233.9948 L549.5833,234.9115 L545.9167,234.9115 L545.9167,233.9948 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="39" x="557.3333" y="235.9839">source</text><!--MD5=[4efa0cfa5e1d38a4afda4e219b98680a]
class t_doc_state--><rect fill="#FFFFFF" filter="url(#f18k8bubto19uw)" height="78.3828" id="t_doc_state" style="stroke: #000000; stroke-width: 1.0;" width="96.3333" x="293.5" y="681"></rect><rect fill="#D3D3D3" height="23.9688" style="stroke: #000000; stroke-width: 1.0;" width="96.3333" x="293.5" y="681"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthadjust="spacingAndGlyphs" textlength="73" x="305.1667" y="697.1387">t_doc_state</text><line style="stroke: #000000; stroke-width: 1.5;" x1="294.5" x2="388.8333" y1="704.9688" y2="704.9688"></line><path d="M305.5417,711.6901 C304.2767,711.6901 303.25,712.7168 303.25,713.9818 C303.25,714.1284 303.2803,714.254 303.3078,714.3833 L300.5,717.191 L300.5,719.0244 L303.25,719.0244 L303.25,717.191 L305.0833,717.191 L305.0833,716.2744 L305.1411,716.2166 C305.2694,716.2441 305.395,716.2744 305.5426,716.2744 C306.8076,716.2744 307.8343,715.2477 307.8343,713.9827 C307.8343,712.7177 306.8076,711.691 305.5426,711.691 M306.0009,712.6077 C306.5051,712.6077 306.9176,713.0202 306.9176,713.5244 C306.9176,714.0285 306.5051,714.441 306.0009,714.441 C305.4968,714.441 305.0843,714.0285 305.0843,713.5244 C305.0843,713.0202 305.4968,712.6077 306.0009,712.6077 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="71" x="312.8333" y="719.1792">doc_state_id</text><line style="stroke: #000000; stroke-width: 1.0;" x1="294.5" x2="388.8333" y1="725.7734" y2="725.7734"></line><path d="M305.0833,733.4115 L302.3333,738.9115 L303.25,738.9115 L306,733.4115 L305.0833,733.4115 M301.4167,734.3281 L300.5,736.1615 L301.4167,737.9948 L302.3333,737.9948 L301.4167,736.1615 L302.3333,734.3281 L301.4167,734.3281 M306,734.3281 L306.9167,736.1615 L306,737.9948 L306.9167,737.9948 L307.8333,736.1615 L306.9167,734.3281 L306,734.3281 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="27" x="312.8333" y="739.9839">code</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="32" x="299.5" y="752.7886">name</text><!--MD5=[5c02744e5b0455229387a946a811ce2e]
class t_doc_doc_state--><rect fill="#FFFFFF" filter="url(#f18k8bubto19uw)" height="65.5781" id="t_doc_doc_state" style="stroke: #000000; stroke-width: 1.0;" width="108" x="475.5" y="687"></rect><rect fill="#D3D3D3" height="23.9688" style="stroke: #000000; stroke-width: 1.0;" width="108" x="475.5" y="687"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthadjust="spacingAndGlyphs" textlength="102" x="478.5" y="703.1387">t_doc_doc_state</text><line style="stroke: #000000; stroke-width: 1.5;" x1="476.5" x2="582.5" y1="710.9688" y2="710.9688"></line><path d="M487.5417,717.6901 C486.2767,717.6901 485.25,718.7168 485.25,719.9818 C485.25,720.1284 485.2803,720.254 485.3078,720.3833 L482.5,723.191 L482.5,725.0244 L485.25,725.0244 L485.25,723.191 L487.0833,723.191 L487.0833,722.2744 L487.1411,722.2166 C487.2694,722.2441 487.395,722.2744 487.5426,722.2744 C488.8076,722.2744 489.8343,721.2477 489.8343,719.9827 C489.8343,718.7177 488.8076,717.691 487.5426,717.691 M488.0009,718.6077 C488.5051,718.6077 488.9176,719.0202 488.9176,719.5244 C488.9176,720.0285 488.5051,720.441 488.0009,720.441 C487.4968,720.441 487.0843,720.0285 487.0843,719.5244 C487.0843,719.0202 487.4968,718.6077 488.0009,718.6077 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="0" x="494.8333" y="725.1792"></text><path d="M499.5,717.6901 C497.4742,717.6901 495.8333,719.3309 495.8333,721.3568 C495.8333,723.3826 497.4742,725.0234 499.5,725.0234 C501.5258,725.0234 503.1667,723.3826 503.1667,721.3568 C503.1667,719.3309 501.5258,717.6901 499.5,717.6901 M499.5,718.6068 L502.25,721.3568 L499.5,724.1068 L499.5,722.2734 L496.75,722.2734 L496.75,720.4401 L499.5,720.4401 L499.5,718.6068 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="36" x="508.1667" y="725.1792">doc_id</text><line style="stroke: #000000; stroke-width: 1.0;" x1="476.5" x2="582.5" y1="731.7734" y2="731.7734"></line><path d="M486.1667,738.4948 C484.1408,738.4948 482.5,740.1356 482.5,742.1615 C482.5,744.1873 484.1408,745.8281 486.1667,745.8281 C488.1925,745.8281 489.8333,744.1873 489.8333,742.1615 C489.8333,740.1356 488.1925,738.4948 486.1667,738.4948 M486.1667,739.4115 L488.9167,742.1615 L486.1667,744.9115 L486.1667,743.0781 L483.4167,743.0781 L483.4167,741.2448 L486.1667,741.2448 L486.1667,739.4115 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="71" x="494.8333" y="745.9839">doc_state_id</text><!--MD5=[0d4a222ed2d2d268b8328f05b8f9e363]
class t_doc_history--><rect fill="#FFFFFF" filter="url(#f18k8bubto19uw)" height="91.1875" id="t_doc_history" style="stroke: #000000; stroke-width: 1.0;" width="106.3333" x="291.5" y="518"></rect><rect fill="#D3D3D3" height="23.9688" style="stroke: #000000; stroke-width: 1.0;" width="106.3333" x="291.5" y="518"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthadjust="spacingAndGlyphs" textlength="82" x="303.6667" y="534.1387">t_doc_history</text><line style="stroke: #000000; stroke-width: 1.5;" x1="292.5" x2="396.8333" y1="541.9688" y2="541.9688"></line><path d="M303.5417,548.6901 C302.2767,548.6901 301.25,549.7168 301.25,550.9818 C301.25,551.1284 301.2803,551.254 301.3078,551.3833 L298.5,554.191 L298.5,556.0244 L301.25,556.0244 L301.25,554.191 L303.0833,554.191 L303.0833,553.2744 L303.1411,553.2166 C303.2694,553.2441 303.395,553.2744 303.5426,553.2744 C304.8076,553.2744 305.8343,552.2477 305.8343,550.9827 C305.8343,549.7177 304.8076,548.691 303.5426,548.691 M304.0009,549.6077 C304.5051,549.6077 304.9176,550.0202 304.9176,550.5244 C304.9176,551.0285 304.5051,551.441 304.0009,551.441 C303.4968,551.441 303.0843,551.0285 303.0843,550.5244 C303.0843,550.0202 303.4968,549.6077 304.0009,549.6077 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="81" x="310.8333" y="556.1792">doc_history_id</text><line style="stroke: #000000; stroke-width: 1.0;" x1="292.5" x2="396.8333" y1="562.7734" y2="562.7734"></line><path d="M302.1667,569.4948 C300.1408,569.4948 298.5,571.1356 298.5,573.1615 C298.5,575.1873 300.1408,576.8281 302.1667,576.8281 C304.1925,576.8281 305.8333,575.1873 305.8333,573.1615 C305.8333,571.1356 304.1925,569.4948 302.1667,569.4948 M302.1667,570.4115 L304.9167,573.1615 L302.1667,575.9115 L302.1667,574.0781 L299.4167,574.0781 L299.4167,572.2448 L302.1667,572.2448 L302.1667,570.4115 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="36" x="310.8333" y="576.9839">doc_id</text><path d="M302.1667,582.2995 C300.1408,582.2995 298.5,583.9403 298.5,585.9661 C298.5,587.992 300.1408,589.6328 302.1667,589.6328 C304.1925,589.6328 305.8333,587.992 305.8333,585.9661 C305.8333,583.9403 304.1925,582.2995 302.1667,582.2995 M302.1667,583.2161 L304.9167,585.9661 L302.1667,588.7161 L302.1667,586.8828 L299.4167,586.8828 L299.4167,585.0495 L302.1667,585.0495 L302.1667,583.2161 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="71" x="310.8333" y="589.7886">doc_state_id</text><path d="M302.1667,595.1042 C300.1473,595.1042 298.5,596.7514 298.5,598.7708 C298.5,600.7903 300.1473,602.4375 302.1667,602.4375 C304.1861,602.4375 305.8333,600.7903 305.8333,598.7708 C305.8333,596.7514 304.1861,595.1042 302.1667,595.1042 M302.1667,596.0208 C303.6911,596.0208 304.9167,597.2464 304.9167,598.7708 C304.9167,600.2953 303.6911,601.5208 302.1667,601.5208 C300.6423,601.5208 299.4167,600.2953 299.4167,598.7708 C299.4167,597.2464 300.6423,596.0208 302.1667,596.0208 M301.7083,596.9375 L301.7083,598.9716 L301.8513,599.0862 L302.3097,599.5445 L302.625,599.8883 L303.2841,599.2292 L302.9403,598.9138 L302.625,598.5985 L302.625,596.9366 L301.7083,596.9366 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="70" x="310.8333" y="602.5933">history_date</text><!--MD5=[d4b45c8a441f4cb1774906928f147529]
link t_catalogue to t_catalogue--><path d="M126.68,38.574 C145.653,37.822 161.5,42.797 161.5,53.5 C161.5,62.614 150.008,67.575 134.881,68.382 " fill="none" id="t_catalogue-&gt;t_catalogue" style="stroke: #000000; stroke-width: 1.0;"></path><line style="stroke: #000000; stroke-width: 1.0;" x1="134.6799" x2="126.68" y1="68.3831" y2="76.4259"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="134.6799" x2="126.68" y1="68.3831" y2="60.4261"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="134.6799" x2="126.68" y1="68.3831" y2="68.426"></line><text fill="#000000" font-family="sans-serif" font-size="8" lengthadjust="spacingAndGlyphs" textlength="37" x="167.5" y="55.9258">parent_id</text><!--MD5=[b3294211ce75436a8f4d3c51fb151377]
link t_doc_type to t_doc--><path d="M215.022,383.5 C238.224,383.5 266.587,383.5 290.846,383.5 " fill="none" id="t_doc_type-&gt;t_doc" style="stroke: #000000; stroke-width: 1.0;"></path><line style="stroke: #000000; stroke-width: 1.0;" x1="290.902" x2="298.902" y1="383.5" y2="375.5"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="290.902" x2="298.902" y1="383.5" y2="391.5"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="290.902" x2="298.902" y1="383.5" y2="383.5"></line><text fill="#000000" font-family="sans-serif" font-size="8" lengthadjust="spacingAndGlyphs" textlength="47" x="233.5" y="376.9258">doc_type_id</text><!--MD5=[840062eaffe844779ca4f4f301a47d9a]
reverse link t_catalogue to t_catalogue_doc--><path d="M78.5,107.194 C78.5,130.257 78.5,156.578 78.5,176.679 " fill="none" id="t_catalogue&lt;-t_catalogue_doc" style="stroke: #000000; stroke-width: 1.0;"></path><line style="stroke: #000000; stroke-width: 1.0;" x1="78.5" x2="70.5" y1="107.188" y2="99.188"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="78.5" x2="86.5" y1="107.188" y2="99.188"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="78.5" x2="78.5" y1="107.188" y2="99.188"></line><text fill="#000000" font-family="sans-serif" font-size="8" lengthadjust="spacingAndGlyphs" textlength="50" x="79.5" y="137.4258">catalogue_id</text><!--MD5=[b3a8eac680fbb6e047950cbceafbeb2c]
link t_catalogue_doc to t_doc--><path d="M128.221,243.057 C174.8,273.088 244.184,317.823 291.729,348.476 " fill="none" id="t_catalogue_doc-&gt;t_doc" style="stroke: #000000; stroke-width: 1.0;"></path><line style="stroke: #000000; stroke-width: 1.0;" x1="291.8558" x2="298.58" y1="348.5588" y2="346.1688"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="291.8558" x2="298.58" y1="348.5588" y2="359.6172"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="291.8558" x2="298.58" y1="348.5588" y2="352.893"></line><text fill="#000000" font-family="sans-serif" font-size="8" lengthadjust="spacingAndGlyphs" textlength="25" x="197.5" y="287.4258">doc_id</text><!--MD5=[7eefc4f6dff794e64e78dcbbfb9c491a]
link t_doc to t_doc_cust--><path d="M298.985,438.873 C279.663,461.956 257.259,488.721 238.248,511.431 " fill="none" id="t_doc-&gt;t_doc_cust" style="stroke: #000000; stroke-width: 1.0;"></path><line style="stroke: #000000; stroke-width: 1.0;" x1="238.1175" x2="239.116" y1="511.589" y2="517.723"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="238.1175" x2="226.848" y1="511.589" y2="517.723"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="238.1175" x2="232.982" y1="511.589" y2="517.723"></line><text fill="#000000" font-family="sans-serif" font-size="8" lengthadjust="spacingAndGlyphs" textlength="25" x="267.5" y="484.4258">doc_id</text><!--MD5=[0005336a9822bd19ef61e4ce8910c4c5]
reverse link t_doc_cust to t_customer--><path d="M148.955,615.142 C129.262,636.569 106.709,661.1069 88.4716,680.9499 " fill="none" id="t_doc_cust&lt;-t_customer" style="stroke: #000000; stroke-width: 1.0;"></path><line style="stroke: #000000; stroke-width: 1.0;" x1="149.014" x2="148.5383" y1="615.0777" y2="609.188"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="149.014" x2="160.3177" y1="615.0777" y2="609.188"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="149.014" x2="154.428" y1="615.0777" y2="609.188"></line><text fill="#000000" font-family="sans-serif" font-size="8" lengthadjust="spacingAndGlyphs" textlength="48" x="125.5" y="647.4258">customer_id</text><!--MD5=[131b4a0e76521106752daee341bf156a]
reverse link t_doc_cust to t_doc_cust_type--><path d="M195.842,617.35 C195.977,638.241 196.13,661.7853 196.254,680.9499 " fill="none" id="t_doc_cust&lt;-t_doc_cust_type" style="stroke: #000000; stroke-width: 1.0;"></path><line style="stroke: #000000; stroke-width: 1.0;" x1="195.8419" x2="187.7892" y1="617.1878" y2="609.188"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="195.8419" x2="203.7888" y1="617.1878" y2="609.188"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="195.8419" x2="195.789" y1="617.1878" y2="609.188"></line><text fill="#000000" font-family="sans-serif" font-size="8" lengthadjust="spacingAndGlyphs" textlength="67" x="197.5" y="647.4258">doc_cust_type_id</text><!--MD5=[94de7abaa940d64e718a7c3244926e87]
reverse link t_doc_delivery to t_doc--><path d="M248.967,255.493 C264.216,275.766 282.503,300.078 298.977,321.979 " fill="none" id="t_doc_delivery&lt;-t_doc" style="stroke: #000000; stroke-width: 1.0;"></path><line style="stroke: #000000; stroke-width: 1.0;" x1="248.9379" x2="239.334" y1="255.4543" y2="252.6677"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="248.9379" x2="248.924" y1="255.4543" y2="245.4543"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="248.9379" x2="244.129" y1="255.4543" y2="249.061"></line><ellipse cx="252.5446" cy="260.2493" fill="none" rx="4" ry="4" style="stroke: #000000; stroke-width: 1.0;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="8" lengthadjust="spacingAndGlyphs" textlength="25" x="273.5" y="287.4258">doc_id</text><!--MD5=[2d23622d96560790c79c16e9140044a4]
reverse link t_doc_number to t_doc--><path d="M344.5,251.508 C344.5,272.194 344.5,297.802 344.5,320.874 " fill="none" id="t_doc_number&lt;-t_doc" style="stroke: #000000; stroke-width: 1.0;"></path><line style="stroke: #000000; stroke-width: 1.0;" x1="344.5" x2="338.5" y1="251.258" y2="243.258"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="344.5" x2="350.5" y1="251.258" y2="243.258"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="344.5" x2="344.5" y1="251.258" y2="243.258"></line><ellipse cx="344.5" cy="257.258" fill="none" rx="4" ry="4" style="stroke: #000000; stroke-width: 1.0;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="8" lengthadjust="spacingAndGlyphs" textlength="25" x="345.5" y="287.4258">doc_id</text><!--MD5=[7c459e52799c0d4d655e72449bb91e72]
reverse link t_doc_scan to t_doc--><path d="M437.307,249.864 C422.639,270.827 404.194,297.187 387.62,320.874 " fill="none" id="t_doc_scan&lt;-t_doc" style="stroke: #000000; stroke-width: 1.0;"></path><line style="stroke: #000000; stroke-width: 1.0;" x1="437.3425" x2="437.013" y1="249.8127" y2="239.8182"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="437.3425" x2="446.845" y1="249.8127" y2="246.6978"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="437.3425" x2="441.929" y1="249.8127" y2="243.258"></line><ellipse cx="433.9027" cy="254.7288" fill="none" rx="4" ry="4" style="stroke: #000000; stroke-width: 1.0;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="8" lengthadjust="spacingAndGlyphs" textlength="25" x="416.5" y="287.4258">doc_id</text><!--MD5=[4aa29f824d631e9db9c0b4ff518403cc]
reverse link t_doc_source to t_doc--><path d="M531.442,247.792 C489.561,277.971 430.796,320.316 390.39,349.432 " fill="none" id="t_doc_source&lt;-t_doc" style="stroke: #000000; stroke-width: 1.0;"></path><line style="stroke: #000000; stroke-width: 1.0;" x1="531.5228" x2="534.505" y1="247.7343" y2="238.1893"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="531.5228" x2="541.521" y1="247.7343" y2="247.9247"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="531.5228" x2="538.013" y1="247.7343" y2="243.057"></line><ellipse cx="526.6551" cy="251.2423" fill="none" rx="4" ry="4" style="stroke: #000000; stroke-width: 1.0;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="8" lengthadjust="spacingAndGlyphs" textlength="25" x="486.5" y="287.4258">doc_id</text><!--MD5=[fdc70aa94f88d88b378c08a646310f88]
reverse link t_doc_doc_state to t_doc--><path d="M507.853,679.8597 C476.05,622.356 416.393,514.491 378.647,446.242 " fill="none" id="t_doc_doc_state&lt;-t_doc" style="stroke: #000000; stroke-width: 1.0;"></path><line style="stroke: #000000; stroke-width: 1.0;" x1="507.9049" x2="517.0274" y1="679.9541" y2="684.0505"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="507.9049" x2="506.5266" y1="679.9541" y2="689.8587"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="507.9049" x2="511.777" y1="679.9541" y2="686.9546"></line><ellipse cx="505.0008" cy="674.7038" fill="none" rx="4" ry="4" style="stroke: #000000; stroke-width: 1.0;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="8" lengthadjust="spacingAndGlyphs" textlength="25" x="468.5" y="565.9258">doc_id</text><!--MD5=[63d405c0f3a8aa08b15fc74dd2b85047]
link t_doc_state to t_doc_doc_state--><path d="M389.915,720 C413.476,720 442.078,720 467.242,720 " fill="none" id="t_doc_state-&gt;t_doc_doc_state" style="stroke: #000000; stroke-width: 1.0;"></path><line style="stroke: #000000; stroke-width: 1.0;" x1="467.28" x2="475.28" y1="720" y2="712"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="467.28" x2="475.28" y1="720" y2="728"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="467.28" x2="475.28" y1="720" y2="720"></line><text fill="#000000" font-family="sans-serif" font-size="8" lengthadjust="spacingAndGlyphs" textlength="49" x="408" y="713.4258">doc_state_id</text><!--MD5=[9c004340c543d5fd28395a65d65b76dd]
link t_doc to t_doc_history--><path d="M344.5,446.256 C344.5,466.995 344.5,489.919 344.5,509.89 " fill="none" id="t_doc-&gt;t_doc_history" style="stroke: #000000; stroke-width: 1.0;"></path><line style="stroke: #000000; stroke-width: 1.0;" x1="344.5" x2="352.5" y1="509.963" y2="517.963"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="344.5" x2="336.5" y1="509.963" y2="517.963"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="344.5" x2="344.5" y1="509.963" y2="517.963"></line><text fill="#000000" font-family="sans-serif" font-size="8" lengthadjust="spacingAndGlyphs" textlength="25" x="345.5" y="484.4258">doc_id</text><!--MD5=[ac06e947c28172a1581fe83d17c1f569]
reverse link t_doc_history to t_doc_state--><path d="M343.474,617.35 C343.068,638.241 342.611,661.7853 342.239,680.9499 " fill="none" id="t_doc_history&lt;-t_doc_state" style="stroke: #000000; stroke-width: 1.0;"></path><line style="stroke: #000000; stroke-width: 1.0;" x1="343.4763" x2="335.6335" y1="617.1865" y2="609.188"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="343.4763" x2="351.6305" y1="617.1865" y2="609.188"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="343.4763" x2="343.632" y1="617.1865" y2="609.188"></line><text fill="#000000" font-family="sans-serif" font-size="8" lengthadjust="spacingAndGlyphs" textlength="49" x="344.5" y="647.4258">doc_state_id</text><!--MD5=[b1e16a279d7402cd78d158509804217a]
@startuml


hide circle
skinparam ClassHeaderBackgroundColor lightgray
skinparam ClassBorderColor black
skinparam ClassBorderThickness 1
skinparam ClassBackgroundColor transparrent
skinparam ArrowFontSize 8
skinparam ArrowColor black

entity t_catalogue
{
   <&key> catalogue_id
   - -
   <&code> code
   name
   <&arrow-circle-right> //parent_id//
}
t_catalogue - -{ t_catalogue : parent_id

entity t_customer
{
   <&key> customer_id
   - -
   <&code> code
   name
}

entity t_doc_cust_type
{
   <&key> doc_cust_type_id
   - -
   <&code> code
   name
}

entity t_doc_type
{
   <&key> doc_type_id
   - -
   <&code> code
   name
}

entity t_doc
{
   <&key> doc_id
   - -
   <&arrow-circle-right> doc_type_id
   doc_date
   - -
   <&tag> generation
   <&clock> changed
   <&person> author
}
t_doc_type -right-{ t_doc : doc_type_id

entity t_catalogue_doc
{
   <&key> <&arrow-circle-right> catalogue_id
   <&key> <&arrow-circle-right> doc_id
}
t_catalogue_doc -up-{ t_catalogue : catalogue_id
t_catalogue_doc - -{ t_doc : doc_id

entity t_doc_cust
{
   <&key> doc_cust_id
   - -
   <&arrow-circle-right> doc_id
   <&arrow-circle-right> customer_id
   <&arrow-circle-right> doc_cust_type_id
}
t_doc_cust }-up- t_doc : doc_id
t_doc_cust }- - t_customer : customer_id
t_doc_cust }- - t_doc_cust_type : doc_cust_type_id

entity t_doc_delivery
{
   <&key> <&arrow-circle-right> doc_id
   - -
   delivery_type
   delivery_date
}
t_doc_delivery }o- - t_doc : doc_id

entity t_doc_number
{
   <&key> <&arrow-circle-right> doc_id
   - -
   numb
}
t_doc_number }o- - t_doc : doc_id

entity t_doc_scan
{
   <&key> <&arrow-circle-right> doc_id
   - -
   <&map> scan
}
t_doc_scan }o- - t_doc : doc_id

entity t_doc_source
{
   <&key> <&arrow-circle-right> doc_id
   - -
   <&document> source
}
t_doc_source }o- - t_doc : doc_id

entity t_doc_state
{
   <&key> doc_state_id
   - -
   <&code> code
   name
}

entity t_doc_doc_state
{
   <&key> <&arrow-circle-right> doc_id
   - -
   <&arrow-circle-right> doc_state_id
}
t_doc_doc_state }o-right- t_doc : doc_id
t_doc_doc_state }-left- t_doc_state : doc_state_id

entity t_doc_history
{
   <&key> doc_history_id
   - -
   <&arrow-circle-right> doc_id
   <&arrow-circle-right> doc_state_id
   <&clock> history_date
}
t_doc_history }-up- t_doc : doc_id
t_doc_history }- - t_doc_state : doc_state_id
@enduml

PlantUML version 1.2020.01beta15(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg> </div><div class="lang-plantUml" \=""> <?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="294px" preserveaspectratio="none" style="width:507px;height:294px;" version="1.1" viewbox="0 0 507 294" width="507px" zoomandpan="magnify"><defs><filter height="300%" id="f18ol6yr8efrqf" width="300%" x="-1" y="-1"><fegaussianblur result="blurOut" stddeviation="2.0"></fegaussianblur><fecolormatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></fecolormatrix><feoffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"></feoffset><feblend in="SourceGraphic" in2="blurOut3" mode="normal"></feblend></filter></defs><g><!--MD5=[5ea577eca533bfca935d04f775d3f167]
class t_doc--><rect fill="#FFFFFF" filter="url(#f18ol6yr8efrqf)" height="124.7969" id="t_doc" style="stroke: #000000; stroke-width: 1.0;" width="91.3333" x="6" y="8"></rect><rect fill="#D3D3D3" height="23.9688" style="stroke: #000000; stroke-width: 1.0;" width="91.3333" x="6" y="8"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthadjust="spacingAndGlyphs" textlength="34" x="34.6667" y="24.1387">t_doc</text><line style="stroke: #000000; stroke-width: 1.5;" x1="7" x2="96.3333" y1="31.9688" y2="31.9688"></line><path d="M18.0417,38.6901 C16.7767,38.6901 15.75,39.7168 15.75,40.9818 C15.75,41.1284 15.7802,41.254 15.8078,41.3833 L13,44.191 L13,46.0244 L15.75,46.0244 L15.75,44.191 L17.5833,44.191 L17.5833,43.2744 L17.6411,43.2166 C17.7694,43.2441 17.895,43.2744 18.0426,43.2744 C19.3076,43.2744 20.3342,42.2477 20.3342,40.9827 C20.3342,39.7177 19.3076,38.691 18.0426,38.691 M18.5009,39.6077 C19.0051,39.6077 19.4176,40.0202 19.4176,40.5244 C19.4176,41.0285 19.0051,41.441 18.5009,41.441 C17.9968,41.441 17.5843,41.0285 17.5843,40.5244 C17.5843,40.0202 17.9968,39.6077 18.5009,39.6077 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="36" x="25.3333" y="46.1792">doc_id</text><line style="stroke: #000000; stroke-width: 1.0;" x1="7" x2="96.3333" y1="52.7734" y2="52.7734"></line><path d="M16.6667,59.4948 C14.6408,59.4948 13,61.1356 13,63.1615 C13,65.1873 14.6408,66.8281 16.6667,66.8281 C18.6925,66.8281 20.3333,65.1873 20.3333,63.1615 C20.3333,61.1356 18.6925,59.4948 16.6667,59.4948 M16.6667,60.4115 L19.4167,63.1615 L16.6667,65.9115 L16.6667,64.0781 L13.9167,64.0781 L13.9167,62.2448 L16.6667,62.2448 L16.6667,60.4115 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="66" x="25.3333" y="66.9839">doc_type_id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="51" x="12" y="79.7886">doc_date</text><line style="stroke: #000000; stroke-width: 1.0;" x1="7" x2="96.3333" y1="86.3828" y2="86.3828"></line><path d="M13,93.1042 L13,95.8542 L17.5833,100.4375 L20.3333,97.6875 L15.75,93.1042 L13,93.1042 M14.8333,94.0208 C15.3375,94.0208 15.75,94.4333 15.75,94.9375 C15.75,95.4417 15.3375,95.8542 14.8333,95.8542 C14.3292,95.8542 13.9167,95.4417 13.9167,94.9375 C13.9167,94.4333 14.3292,94.0208 14.8333,94.0208 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="61" x="25.3333" y="100.5933">generation</text><path d="M16.6667,105.9089 C14.6473,105.9089 13,107.5561 13,109.5755 C13,111.5949 14.6473,113.2422 16.6667,113.2422 C18.6861,113.2422 20.3333,111.5949 20.3333,109.5755 C20.3333,107.5561 18.6861,105.9089 16.6667,105.9089 M16.6667,106.8255 C18.1911,106.8255 19.4167,108.0511 19.4167,109.5755 C19.4167,111.0999 18.1911,112.3255 16.6667,112.3255 C15.1423,112.3255 13.9167,111.0999 13.9167,109.5755 C13.9167,108.0511 15.1423,106.8255 16.6667,106.8255 M16.2083,107.7422 L16.2083,109.7763 L16.3513,109.8909 L16.8097,110.3492 L17.125,110.6929 L17.7841,110.0339 L17.4403,109.7185 L17.125,109.4032 L17.125,107.7413 L16.2083,107.7413 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="48" x="25.3333" y="113.3979">changed</text><path d="M16.6667,118.7135 C15.6538,118.7135 14.8333,119.7393 14.8333,121.0052 C14.8333,122.2711 15.6538,123.2969 16.6667,123.2969 C17.6796,123.2969 18.5,122.2711 18.5,121.0052 C18.5,119.7393 17.6796,118.7135 16.6667,118.7135 M14.7472,123.2969 C13.7663,123.3335 13,124.1402 13,125.1302 L13,126.0469 L20.3333,126.0469 L20.3333,125.1302 C20.3333,124.1402 19.567,123.3335 18.5862,123.2969 C18.0912,123.856 17.4092,124.2135 16.6667,124.2135 C15.9242,124.2135 15.2422,123.856 14.7472,123.2969 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="37" x="25.3333" y="126.2026">author</text><!--MD5=[e871482fb55f9150fc3be5a0e93d8569]
class t_doc_spec_type--><rect fill="#FFFFFF" filter="url(#f18ol6yr8efrqf)" height="78.3828" id="t_doc_spec_type" style="stroke: #000000; stroke-width: 1.0;" width="124.3333" x="158.5" y="205"></rect><rect fill="#D3D3D3" height="23.9688" style="stroke: #000000; stroke-width: 1.0;" width="124.3333" x="158.5" y="205"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthadjust="spacingAndGlyphs" textlength="103" x="169.1667" y="221.1387">t_doc_spec_type</text><line style="stroke: #000000; stroke-width: 1.5;" x1="159.5" x2="281.8333" y1="228.9688" y2="228.9688"></line><path d="M170.5417,235.6901 C169.2767,235.6901 168.25,236.7168 168.25,237.9818 C168.25,238.1284 168.2803,238.254 168.3078,238.3833 L165.5,241.191 L165.5,243.0244 L168.25,243.0244 L168.25,241.191 L170.0833,241.191 L170.0833,240.2744 L170.1411,240.2166 C170.2694,240.2441 170.395,240.2744 170.5426,240.2744 C171.8076,240.2744 172.8343,239.2477 172.8343,237.9827 C172.8343,236.7177 171.8076,235.691 170.5426,235.691 M171.0009,236.6077 C171.5051,236.6077 171.9176,237.0202 171.9176,237.5244 C171.9176,238.0285 171.5051,238.441 171.0009,238.441 C170.4968,238.441 170.0843,238.0285 170.0843,237.5244 C170.0843,237.0202 170.4968,236.6077 171.0009,236.6077 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="99" x="177.8333" y="243.1792">doc_spec_type_id</text><line style="stroke: #000000; stroke-width: 1.0;" x1="159.5" x2="281.8333" y1="249.7734" y2="249.7734"></line><path d="M170.0833,257.4115 L167.3333,262.9115 L168.25,262.9115 L171,257.4115 L170.0833,257.4115 M166.4167,258.3281 L165.5,260.1615 L166.4167,261.9948 L167.3333,261.9948 L166.4167,260.1615 L167.3333,258.3281 L166.4167,258.3281 M171,258.3281 L171.9167,260.1615 L171,261.9948 L171.9167,261.9948 L172.8333,260.1615 L171.9167,258.3281 L171,258.3281 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="27" x="177.8333" y="263.9839">code</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="32" x="164.5" y="276.7886">name</text><!--MD5=[4ed4cd12cd2eeb59e644791b1ec40217]
class t_doc_spec--><rect fill="#FFFFFF" filter="url(#f18ol6yr8efrqf)" height="91.1875" id="t_doc_spec" style="stroke: #000000; stroke-width: 1.0;" width="124.3333" x="158.5" y="25"></rect><rect fill="#D3D3D3" height="23.9688" style="stroke: #000000; stroke-width: 1.0;" width="124.3333" x="158.5" y="25"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthadjust="spacingAndGlyphs" textlength="70" x="185.6667" y="41.1387">t_doc_spec</text><line style="stroke: #000000; stroke-width: 1.5;" x1="159.5" x2="281.8333" y1="48.9688" y2="48.9688"></line><path d="M170.5417,55.6901 C169.2767,55.6901 168.25,56.7168 168.25,57.9818 C168.25,58.1284 168.2803,58.254 168.3078,58.3833 L165.5,61.191 L165.5,63.0244 L168.25,63.0244 L168.25,61.191 L170.0833,61.191 L170.0833,60.2744 L170.1411,60.2166 C170.2694,60.2441 170.395,60.2744 170.5426,60.2744 C171.8076,60.2744 172.8343,59.2477 172.8343,57.9827 C172.8343,56.7177 171.8076,55.691 170.5426,55.691 M171.0009,56.6077 C171.5051,56.6077 171.9176,57.0202 171.9176,57.5244 C171.9176,58.0285 171.5051,58.441 171.0009,58.441 C170.4968,58.441 170.0843,58.0285 170.0843,57.5244 C170.0843,57.0202 170.4968,56.6077 171.0009,56.6077 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="69" x="177.8333" y="63.1792">doc_spec_id</text><line style="stroke: #000000; stroke-width: 1.0;" x1="159.5" x2="281.8333" y1="69.7734" y2="69.7734"></line><path d="M169.1667,76.4948 C167.1408,76.4948 165.5,78.1356 165.5,80.1615 C165.5,82.1873 167.1408,83.8281 169.1667,83.8281 C171.1925,83.8281 172.8333,82.1873 172.8333,80.1615 C172.8333,78.1356 171.1925,76.4948 169.1667,76.4948 M169.1667,77.4115 L171.9167,80.1615 L169.1667,82.9115 L169.1667,81.0781 L166.4167,81.0781 L166.4167,79.2448 L169.1667,79.2448 L169.1667,77.4115 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="36" x="177.8333" y="83.9839">doc_id</text><path d="M169.1667,89.2995 C167.1408,89.2995 165.5,90.9403 165.5,92.9661 C165.5,94.992 167.1408,96.6328 169.1667,96.6328 C171.1925,96.6328 172.8333,94.992 172.8333,92.9661 C172.8333,90.9403 171.1925,89.2995 169.1667,89.2995 M169.1667,90.2161 L171.9167,92.9661 L169.1667,95.7161 L169.1667,93.8828 L166.4167,93.8828 L166.4167,92.0495 L169.1667,92.0495 L169.1667,90.2161 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="99" x="177.8333" y="96.7886">doc_spec_type_id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="0" x="168.5" y="109.5933"></text><!--MD5=[025ac326a6ab31b45989aa42f37da176]
class t_doc_spec_amount--><rect fill="#FFFFFF" filter="url(#f18ol6yr8efrqf)" height="65.5781" id="t_doc_spec_amount" style="stroke: #000000; stroke-width: 1.0;" width="130" x="366.5" y="37.5"></rect><rect fill="#D3D3D3" height="23.9688" style="stroke: #000000; stroke-width: 1.0;" width="130" x="366.5" y="37.5"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthadjust="spacingAndGlyphs" textlength="124" x="369.5" y="53.6387">t_doc_spec_amount</text><line style="stroke: #000000; stroke-width: 1.5;" x1="367.5" x2="495.5" y1="61.4688" y2="61.4688"></line><path d="M378.5417,68.1901 C377.2767,68.1901 376.25,69.2168 376.25,70.4818 C376.25,70.6284 376.2803,70.754 376.3078,70.8833 L373.5,73.691 L373.5,75.5244 L376.25,75.5244 L376.25,73.691 L378.0833,73.691 L378.0833,72.7744 L378.1411,72.7166 C378.2694,72.7441 378.395,72.7744 378.5426,72.7744 C379.8076,72.7744 380.8343,71.7477 380.8343,70.4827 C380.8343,69.2177 379.8076,68.191 378.5426,68.191 M379.0009,69.1077 C379.5051,69.1077 379.9176,69.5202 379.9176,70.0244 C379.9176,70.5285 379.5051,70.941 379.0009,70.941 C378.4968,70.941 378.0843,70.5285 378.0843,70.0244 C378.0843,69.5202 378.4968,69.1077 379.0009,69.1077 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="0" x="385.8333" y="75.6792"></text><path d="M390.5,68.1901 C388.4742,68.1901 386.8333,69.8309 386.8333,71.8568 C386.8333,73.8826 388.4742,75.5234 390.5,75.5234 C392.5258,75.5234 394.1667,73.8826 394.1667,71.8568 C394.1667,69.8309 392.5258,68.1901 390.5,68.1901 M390.5,69.1068 L393.25,71.8568 L390.5,74.6068 L390.5,72.7734 L387.75,72.7734 L387.75,70.9401 L390.5,70.9401 L390.5,69.1068 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="69" x="399.1667" y="75.6792">doc_spec_id</text><line style="stroke: #000000; stroke-width: 1.0;" x1="367.5" x2="495.5" y1="82.2734" y2="82.2734"></line><path d="M376.25,88.9948 L376.25,89.9115 L375.5625,89.9115 C374.9337,89.9115 374.4167,90.4285 374.4167,91.0573 L374.4167,91.5156 C374.4167,92.1371 374.8173,92.6541 375.4195,92.8045 L377.7689,93.4058 C377.9,93.4388 378.0843,93.6771 378.0843,93.8073 L378.0843,94.2656 C378.0843,94.3885 377.9779,94.4948 377.8551,94.4948 L375.5634,94.4948 C375.4571,94.4948 375.3691,94.4609 375.3343,94.437 L375.3343,93.5772 L374.4176,93.5772 L374.4176,94.4939 C374.4176,94.8074 374.6037,95.0686 374.8191,95.2098 C375.0336,95.3519 375.2939,95.4105 375.5643,95.4105 L376.2518,95.4105 L376.2518,96.3272 L377.1685,96.3272 L377.1685,95.4105 L377.856,95.4105 C378.4848,95.4105 379.0018,94.8935 379.0018,94.2647 L379.0018,93.8064 C379.0018,93.1849 378.6013,92.6679 377.999,92.5175 L375.6496,91.9162 C375.5185,91.8832 375.3343,91.6449 375.3343,91.5147 L375.3343,91.0564 C375.3343,90.9335 375.4406,90.8272 375.5634,90.8272 L377.8551,90.8272 C377.9614,90.8272 378.0494,90.8611 378.0843,90.885 L378.0843,91.7448 L379.0009,91.7448 L379.0009,90.8281 C379.0009,90.5146 378.8148,90.2534 378.5994,90.1122 C378.3849,89.9701 378.1246,89.9115 377.8542,89.9115 L377.1667,89.9115 L377.1667,88.9948 L376.25,88.9948 " fill="#000000" style="stroke: ; stroke-width: 0.0; stroke-dasharray: ;"></path><text fill="#000000" font-family="sans-serif" font-size="11" lengthadjust="spacingAndGlyphs" textlength="43" x="385.8333" y="96.4839">amount</text><!--MD5=[cef6fc7600387b202b7e697154b0ecaf]
link t_doc to t_doc_spec--><path d="M97.2338,70.5 C113.51,70.5 132.236,70.5 150.097,70.5 " fill="none" id="t_doc-&gt;t_doc_spec" style="stroke: #000000; stroke-width: 1.0;"></path><line style="stroke: #000000; stroke-width: 1.0;" x1="150.231" x2="158.231" y1="70.5" y2="62.5"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="150.231" x2="158.231" y1="70.5" y2="78.5"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="150.231" x2="158.231" y1="70.5" y2="70.5"></line><text fill="#000000" font-family="sans-serif" font-size="8" lengthadjust="spacingAndGlyphs" textlength="25" x="115.25" y="63.9258">doc_id</text><!--MD5=[175fa9f72450b3173fe29432cd7fb745]
reverse link t_doc_spec to t_doc_spec_type--><path d="M220.5,124.363 C220.5,150.334 220.5,181.05 220.5,204.7197 " fill="none" id="t_doc_spec&lt;-t_doc_spec_type" style="stroke: #000000; stroke-width: 1.0;"></path><line style="stroke: #000000; stroke-width: 1.0;" x1="220.5" x2="212.5" y1="124.112" y2="116.112"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="220.5" x2="228.5" y1="124.112" y2="116.112"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="220.5" x2="220.5" y1="124.112" y2="116.112"></line><text fill="#000000" font-family="sans-serif" font-size="8" lengthadjust="spacingAndGlyphs" textlength="69" x="221.5" y="171.4258">doc_spec_type_id</text><!--MD5=[542647722f52d6ccd9b263e63b85e2d8]
link t_doc_spec to t_doc_spec_amount--><path d="M282.666,70.5 C306.366,70.5 333.597,70.5 358.234,70.5 " fill="none" id="t_doc_spec-&gt;t_doc_spec_amount" style="stroke: #000000; stroke-width: 1.0;"></path><line style="stroke: #000000; stroke-width: 1.0;" x1="358.48" x2="366.48" y1="70.5" y2="64.5"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="358.48" x2="366.48" y1="70.5" y2="76.5"></line><line style="stroke: #000000; stroke-width: 1.0;" x1="358.48" x2="366.48" y1="70.5" y2="70.5"></line><ellipse cx="352.48" cy="70.5" fill="none" rx="4" ry="4" style="stroke: #000000; stroke-width: 1.0;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="8" lengthadjust="spacingAndGlyphs" textlength="47" x="301" y="63.9258">doc_spec_id</text><!--MD5=[07a24500eeacad5ee0dfdac301512b84]
@startuml


hide circle
skinparam ClassHeaderBackgroundColor lightgray
skinparam ClassBorderColor black
skinparam ClassBorderThickness 1
skinparam ClassBackgroundColor transparrent
skinparam ArrowFontSize 8
skinparam ArrowColor black

entity t_doc
{
   <&key> doc_id
   - -
   <&arrow-circle-right> doc_type_id
   doc_date
   - -
   <&tag> generation
   <&clock> changed
   <&person> author
}

entity t_doc_spec_type
{
   <&key> doc_spec_type_id
   - -
   <&code> code
   name
}

entity t_doc_spec
{
   <&key> doc_spec_id
   - -
   <&arrow-circle-right> doc_id
   <&arrow-circle-right> doc_spec_type_id

}
t_doc_spec }-left- t_doc : doc_id
t_doc_spec }- - t_doc_spec_type : doc_spec_type_id

entity t_doc_spec_amount
{
   <&key> <&arrow-circle-right> doc_spec_id
   - -
   <&dollar> amount
}
t_doc_spec_amount }o-left- t_doc_spec : doc_spec_id
@enduml

PlantUML version 1.2020.01beta15(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg> </div><p>Dynamic mapping example for same data object as represented in <a href="../static/static.html#static-mapping-sample">static mapping</a> description:</p>
<p>SQL representation of following sample: </p>
<pre><code class="lang-sql">with recursive T (catalogue_id, code, name, parent_id) 
   as ((SELECT R.catalogue_id AS R_catalogue_id,
            R.code AS R_code,
            R.name AS R_name,
            R.parent_id AS R_parent_id
        FROM T_CATALOGUE R
        WHERE ((@FilterByRoot is not null
            and R.catalogue_id = @FilterByRoot)
            OR (@FilterByRoot is null
            and R.parent_id is null))) UNION (SELECT S.catalogue_id AS S_catalogue_id,
            S.code AS S_code,
            S.name AS S_name,
            S.parent_id AS S_parent_id
        FROM T_CATALOGUE S, T T
        WHERE S.parent_id = (T.catalogue_id)))
SELECT CF.CUSTOMER_ID AS CF_CUSTOMER_ID,
    CF.DOC_CUST_ID AS CF_DOC_CUST_ID,
    CF.DOC_CUST_TYPE_ID AS CF_DOC_CUST_TYPE_ID,
    CF.DOC_ID AS CF_DOC_ID,
    CT.CUSTOMER_ID AS CT_CUSTOMER_ID,
    CT.DOC_CUST_ID AS CT_DOC_CUST_ID,
    CT.DOC_CUST_TYPE_ID AS CT_DOC_CUST_TYPE_ID,
    CT.DOC_ID AS CT_DOC_ID,
    CAST((SELECT Sum(A.amount) AS A_amount
        FROM T_DOC_SPEC S
            JOIN T_DOC_SPEC_AMOUNT A ON A.DOC_SPEC_ID = S.DOC_SPEC_ID
        WHERE S.doc_id = S.doc_id) AS NUMERIC(17, 5)) AS doc_amount /* DocAmount */,
    D.doc_date AS D_doc_date /* DocDate */,
    D.doc_id AS D_doc_id /* DocId */,
    D.DOC_TYPE_ID AS D_DOC_TYPE_ID,
    D.generation AS D_generation /* Generation */,
    D.changed AS D_changed /* Changed */,
    D.author AS D_author /* Author */,
    DD.delivery_date AS DD_delivery_date /* DeliveryDate */,
    DD.delivery_type AS DD_delivery_type /* DeliveryType */,
    DD.DOC_ID AS DD_DOC_ID,
    DS.DOC_DOC_STATE_ID AS DS_DOC_DOC_STATE_ID,
    DS.DOC_ID AS DS_DOC_ID,
    DS.DOC_STATE_ID AS DS_DOC_STATE_ID,
    F.CODE AS F_CODE,
    F.CUSTOMER_ID AS F_CUSTOMER_ID,
    F.name AS F_name /* CustomerFrom */,
    H.H_doc_id AS H_H_doc_id,
    H.H_history_date AS H_H_history_date /* DocLastChange */,
    N.DOC_ID AS N_DOC_ID,
    N.numb AS N_numb /* DocNumb */,
    S.code AS S_code /* DocStateCode */,
    S.DOC_STATE_ID AS S_DOC_STATE_ID,
    S.name AS S_name /* DocState */,
    SC.DOC_ID AS SC_DOC_ID,
    SC.scan AS SC_scan /* Scan */,
    SR.DOC_ID AS SR_DOC_ID,
    SR.source AS SR_source /* Source */,
    ST.S_doc_id AS ST_S_doc_id,
    T.CODE AS T_CODE,
    T.CUSTOMER_ID AS T_CUSTOMER_ID,
    T.name AS T_name /* CustomerTo */
FROM T_DOC D
    JOIN T_DOC_DOC_STATE DS ON DS.doc_id = D.doc_id
    JOIN T_DOC_STATE S ON S.DOC_STATE_ID = DS.DOC_STATE_ID
    JOIN T_DOC_NUMBER N ON N.doc_id = D.doc_id
    JOIN T_DOC_CUST CF ON CF.doc_id = D.doc_id
    JOIN T_DOC_CATALOGUE DC ON DC.doc_id = D.doc_id
    JOIN T_CATALOGUE U ON DC.catalogue_id = U.catalogue_id
    JOIN T_CUSTOMER F ON F.CUSTOMER_ID = CF.CUSTOMER_ID
    JOIN T_DOC_CUST CT ON CT.doc_id = D.doc_id
    JOIN T_CUSTOMER T ON T.CUSTOMER_ID = CF.CUSTOMER_ID
    LEFT OUTER JOIN T_DOC_SCAN SC ON SC.doc_id = D.doc_id
    LEFT OUTER JOIN T_DOC_SOURCE SR ON SR.doc_id = D.doc_id
    LEFT OUTER JOIN T_DOC_DELIVERY DD ON DD.doc_id = D.doc_id
    LEFT OUTER JOIN (SELECT H.doc_id AS H_doc_id,
            H.history_date AS H_history_date
        FROM T_DOC_HISTORY H) H ON D.doc_id = H.H_doc_id
    JOIN (SELECT S.doc_id AS S_doc_id
        FROM T_DOC_SPEC_TYPE ST
            JOIN T_DOC_SPEC S ON S.DOC_SPEC_TYPE_ID = ST.DOC_SPEC_TYPE_ID
        WHERE ST.code = @FilterBySpecTypeCode) ST ON D.doc_id = ST.S_doc_id
WHERE D.DOC_TYPE_ID = (select doc_type_id
        from T_DOC_TYPE
        where code=&#39;INVOICE&#39;)
    AND CF.DOC_CUST_TYPE_ID = (select doc_cust_type_id
        from T_DOC_CUST_TYPE
        where code=&#39;FROM&#39;)
    AND CF.DOC_CUST_TYPE_ID = (select doc_cust_type_id
        from T_DOC_CUST_TYPE
        where code=&#39;TO&#39;)
    AND D.doc_id = @FilterByDocId
    AND DC.catalogue_id in (SELECT T.catalogue_id AS T_catalogue_id FROM T T)
</code></pre><p>Mapping sample:</p>
<pre><code class="lang-csharp">public partial class Invoice: IDataObject
{
    public static CustomLogic&lt;Invoice&gt; TestCustomLogic;

    private static Expression&lt;CustomMapping&lt;Invoice&gt;&gt; _mapping = (
        () =&gt; XDataMapping.CustomMapping&lt;Invoice&gt;()
            .DataTable(&quot;T_DOC&quot;, &quot;D&quot;, 
                x =&gt; x.DictFilter(&quot;T_DOC_TYPE&quot;, &quot;doc_type_id&quot;, &quot;code&quot;, &quot;INVOICE&quot;))
            .DataTable(&quot;T_DOC_DOC_STATE&quot;, &quot;DS&quot;, &quot;D&quot;, x =&gt; x.Link(&quot;D&quot;, &quot;doc_id&quot;))
            .DataTable(&quot;T_DOC_STATE&quot;, &quot;S&quot;, x =&gt; x.Link(&quot;DS&quot;, &quot;doc_state_id&quot;))
            .DataTable(&quot;T_DOC_CATALOGUE&quot;, &quot;DC&quot;, &quot;D&quot;, x =&gt; x.Link(&quot;D&quot;, &quot;doc_id&quot;), 
                x =&gt; x.SubqueryFilter(&quot;catalogue_id&quot;, &quot;UT&quot;).SetOperation(FilterOperation.In))
            .DataTable(&quot;T_CATALOGUE&quot;, &quot;U&quot;, x =&gt; x.Link(&quot;DC&quot;, &quot;catalogue_id&quot;))
            .DataTable(&quot;T_DOC_NUMBER&quot;, &quot;N&quot;, &quot;D&quot;, x =&gt; x.Link(&quot;D&quot;, &quot;doc_id&quot;))
            .DataTable(&quot;T_DOC_CUST&quot;, &quot;CF&quot;, &quot;D&quot;, x =&gt; x.Link(&quot;D&quot;, &quot;doc_id&quot;), 
                x =&gt; x.DictFilter(&quot;T_DOC_CUST_TYPE&quot;, &quot;doc_cust_type_id&quot;, &quot;code&quot;, &quot;FROM&quot;))
            .DataTable(&quot;T_CUSTOMER&quot;, &quot;F&quot;, x =&gt; x.Link(&quot;CF&quot;, &quot;customer_id&quot;))
            .DataTable(&quot;T_DOC_CUST&quot;, &quot;CT&quot;, &quot;D&quot;, x =&gt; x.Link(&quot;D&quot;, &quot;doc_id&quot;), 
                x =&gt; x.DictFilter(&quot;T_DOC_CUST_TYPE&quot;, &quot;doc_cust_type_id&quot;, &quot;code&quot;, &quot;TO&quot;))
            .DataTable(&quot;T_CUSTOMER&quot;, &quot;T&quot;, 
                x =&gt; x.Link(&quot;CT&quot;, &quot;customer_id&quot;))
            .DataTable(&quot;T_DOC_SCAN&quot;, &quot;SC&quot;, &quot;D&quot;, 
                x =&gt; x.Link(&quot;D&quot;, &quot;doc_id&quot;).SetOperation(FilterOperation.OuterJoin))
            .DataTable(&quot;T_DOC_SOURCE&quot;, &quot;SR&quot;, &quot;D&quot;, 
                x =&gt; x.Link(&quot;D&quot;, &quot;doc_id&quot;).SetOperation(FilterOperation.OuterJoin))
            .DataTable(&quot;T_DOC_DELIVERY&quot;, &quot;DD&quot;, &quot;D&quot;, 
                x =&gt; x.Link(&quot;D&quot;, &quot;doc_id&quot;).SetOperation(FilterOperation.OuterJoin))
            .Subquery(&quot;A&quot;, typeof(DocSpecAmounts), &quot;Amount&quot;, DataGrouping.Sum, 
                x =&gt; x.SubqueryLink(&quot;DocId&quot;))
            .Subquery&lt;CatalogueTree&gt;(&quot;UT&quot;, x =&gt; x.CatalogueId, DataGrouping.None)
            .InnerView(&quot;H&quot;, XDataMapping.GetStructure(&quot;H&quot;, null, 
                DataStructureFlag.Grouping, new Variable[0])
                .DataTable(&quot;T_DOC_HISTORY&quot;, &quot;H&quot;)
                .Select(x =&gt; new {
                    DocId = x.Field&lt;long?&gt;(&quot;H&quot;, string.Empty, 
                        z =&gt; z.Group(DataGrouping.None)),
                    HistoryDate = x.Field&lt;DateTime?&gt;(&quot;H&quot;, string.Empty, 
                        z =&gt; z.Group(DataGrouping.Max))
                }), x =&gt; x.SubqueryLink(&quot;DocId&quot;).SetOperation(FilterOperation.OuterJoin))
            .InnerView&lt;DocBySpecType&gt;(&quot;ST&quot;, x =&gt; x.SubqueryLink(&quot;DocId&quot;))
            .Column(&quot;DocId&quot;, x =&gt; x.Field&lt;long?&gt;(&quot;D&quot;, string.Empty, 
                z =&gt; z.Key(), z =&gt; z.Default(DefaultType.AutoIncrement)))
            .Column(&quot;DocStateId&quot;, x =&gt; x.Field&lt;long&gt;(&quot;S&quot;, string.Empty))
            .Column(&quot;FromCustomerId&quot;, x =&gt; x.Field&lt;long&gt;(&quot;F&quot;, &quot;customer_id&quot;))
            .Column(&quot;ToCustomerId&quot;, x =&gt; x.Field&lt;long&gt;(&quot;T&quot;, &quot;customer_id&quot;))
            .Column(&quot;CatalogueId&quot;, x =&gt; x.Field&lt;long?&gt;(&quot;U&quot;, string.Empty))
            .ReadOnlyProperty(x =&gt; x.DocStateCode, x =&gt; x.Field&lt;string&gt;(&quot;S&quot;, &quot;code&quot;))
            .ReadOnlyProperty(x =&gt; x.Generation, 
                x =&gt; x.Field&lt;long&gt;(&quot;D&quot;, string.Empty, 
                    z =&gt; z.ConcurrencyToken(), z =&gt; z.Default(DefaultType.AutoIncrement)))
            .ReadOnlyProperty(x =&gt; x.Changed, 
                x =&gt; x.Field&lt;DateTime&gt;(&quot;D&quot;, string.Empty, 
                    z =&gt; z.Default(DefaultType.CurrentDateTime, DefaultFeature.UseOnUpdate)))
            .ReadOnlyProperty(x =&gt; x.Author, 
                x =&gt; x.Field&lt;string&gt;(&quot;D&quot;, string.Empty, 
                    z =&gt; z.Default(DefaultType.UserName, DefaultFeature.UseOnUpdate)))
            .ReadOnlyProperty(x =&gt; x.DocAmount, 
                x =&gt; x.Expr&lt;decimal?&gt;(null, DataExpressionType.SubQuery, 
                    &quot;A&quot;, DbType.Decimal, z =&gt; z.Size(17, 5)))
            .ReadOnlyProperty(x =&gt; x.DocLastChange, x =&gt; x.Ref&lt;DateTime?&gt;(&quot;H&quot;, &quot;HistoryDate&quot;))
            .Map(x =&gt; new Invoice {
                DocState = x.Link&lt;string, DocState&gt;(&quot;S&quot;, &quot;name&quot;,
                    z =&gt; z.LinkProperty&lt;DocState&gt;(y =&gt; y.Name),
                    z =&gt; z.LinkProperty&lt;DocState&gt;(y =&gt; y.Code, y =&gt; y.DocStateCode),
                    z =&gt; z.LinkProperty&lt;DocState&gt;((Invoice y) =&gt; y.GetProperty&lt;long&gt;(&quot;DocStateId&quot;))),
                DocCatalog = x.Link&lt;string, Catalogue&gt;(&quot;U&quot;, &quot;name&quot;, 
                    z =&gt; z.LinkProperty&lt;Catalogue&gt;(y =&gt; y.Name),
                    z =&gt; z.LinkProperty&lt;Catalogue&gt;((Invoice y) =&gt; y.GetProperty&lt;long&gt;(&quot;CatalogueId&quot;))),
                DocNumb = x.Field&lt;string&gt;(&quot;N&quot;, &quot;numb&quot;),
                DocDate = x.Field&lt;DateTime?&gt;(&quot;D&quot;, string.Empty, 
                    z =&gt; z.Default(DefaultType.CurrentDate)),
                Scan = x.Lob(&quot;SC&quot;, z =&gt; z.OuterFlag()),
                Source = x.Xml(&quot;SR&quot;, z =&gt; z.OuterFlag()),
                CustomerFrom = x.Link&lt;string, Customer&gt;(&quot;F&quot;, &quot;name&quot;, 
                    z =&gt; z.LinkProperty&lt;Customer&gt;(y =&gt; y.Name),
                    z =&gt; z.LinkProperty&lt;Customer&gt;(y =&gt; y.GetProperty&lt;long&gt;(&quot;CustomerId&quot;), 
                        y =&gt; y.GetProperty&lt;long&gt;(&quot;FromCustomerId&quot;))),
                CustomerTo = x.Link&lt;string, Customer&gt;(&quot;T&quot;, &quot;name&quot;, 
                    z =&gt; z.LinkProperty&lt;Customer&gt;(y =&gt; y.Name),
                    z =&gt; z.LinkProperty&lt;Customer&gt;(y =&gt; y.GetProperty&lt;long&gt;(&quot;CustomerId&quot;), 
                        y =&gt; y.GetProperty&lt;long&gt;(&quot;ToCustomerId&quot;))),
                DeliveryType = x.Field&lt;DeliveryTypeEnum&gt;(&quot;DD&quot;, string.Empty),
                DeliveryDate = x.Field&lt;DateTime?&gt;(&quot;DD&quot;, string.Empty, 
                    z =&gt; z.Default(DefaultType.CurrentDate))
            }, x =&gt; x.ExternalLink&lt;InvoiceSpec&gt;(&quot;DocId&quot;))
            .SetBaseTable(&quot;D&quot;).SetLogicAssembly(&quot;XDataObjectTest&quot;)
    );
}
...    
public partial class Invoice
{
    public string DocStateCode { get 
        { return this.GetProperty(x =&gt; x.DocStateCode); } 
    }
    public Link&lt;string, DocState&gt; DocState { get; set; }
    public Link&lt;string, Catalogue&gt; DocCatalog { get; set; }
    public string DocNumb { get; set; }
    public DateTime? DocDate { get; set; }
    public long Generation { get { return this.GetProperty(x =&gt; x.Generation); } }
    public DateTime Changed { get { return this.GetProperty(x =&gt; x.Changed); } }
    public string Author { get { return this.GetProperty(x =&gt; x.Author); } }
    public decimal? DocAmount { get { return this.GetProperty(x =&gt; x.DocAmount); } }
    public DateTime? DocLastChange { get 
        { return this.GetProperty(x =&gt; x.DocLastChange); } 
    }
    public Lob Scan { get; set; }
    public Xml Source { get; set; }
    public Link&lt;string, Customer&gt; CustomerFrom { get; set; }
    public Link&lt;string, Customer&gt; CustomerTo { get; set; }
    public DeliveryTypeEnum DeliveryType { get; set; }
    public DateTime? DeliveryDate { get; set; }

    public IRepository&lt;InvoiceSpec&gt; Spec { get 
        { return this.GetRepository().GetChild&lt;InvoiceSpec&gt;(); } 
    }
}
</code></pre><p>Dynamic mapping provide more representable mechanics to define mapping because of no attribute parameters limitation. Subqueries and inner views can be described in place using <a href="../../query.html">dynamic query</a> mechanics. SQL expressions can be described in LINQ style in place. This abilities enreach representability of dynamic mapping.</p>
<p>Dynamic mapping alowes split <a href="../../glossary.html#data-object">data object</a> to partial class definitions with basic class definition and mapping.</p>
<p>Dynamic mapping is described as private static field of type Expression&lt;CustomMapping&lt;T&gt;&gt; where T - data object type. The value of this property is assigned by call of <a class="xref" href="../../../api/XData.Mapping.Dynamic.XDataMapping.html#XData_Mapping_Dynamic_XDataMapping_CustomMapping__1">XDataMapping.CustomMapping&lt;T&gt;</a> method returning <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html">IRepositoryStructure&lt;T&gt;</a>. Interface <em>IRepositoryStructure&lt;T&gt;</em> has a number of methods to describe all of mapping entities analog to <a href="../static/static.html">static mapping</a> attributes.</p>
<h3 id="mapping-parameters">Mapping parameters</h3>
<p>To set parameters of dynamically mapped classes used <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryDescription-1.html">IRepositoryDescription&lt;T&gt;</a> interface methods:</p>
<ul>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryDescription-1.html#XData_Mapping_Dynamic_IRepositoryDescription_1_SetBaseTable_System_String_">SetBaseTable</a> - to set <a href="../../glossary.html#base-table">base table</a>, (optional, by default used <a href="../../glossary.html#virtual-table">virtual table</a> with the empty alias)</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryDescription-1.html#XData_Mapping_Dynamic_IRepositoryDescription_1_SetContext_System_String_">SetContext</a> - database <a href="../../glossary.html#context">context</a> (optional, by default context will by assigned in runtime)</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryDescription-1.html#XData_Mapping_Dynamic_IRepositoryDescription_1_SetFlags_XData_DataStructureFlag_">SetFlags</a> - <a href="../../glossary.html#data-source-flags">data source flags</a> (optional, by default <strong>None</strong>)</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryDescription-1.html#XData_Mapping_Dynamic_IRepositoryDescription_1_SetLogicAssemblies_System_String___">SetLogicAssemblies</a> - to set data processing logic classes assemblies FullName for this <a href="../../glossary.html#repository">repository </a> (see <a href="../../three_tier.html#using-three-tier-architecture">Using three tier architecture</a> и <a class="xref" href="../../../api/XData.XDataLogic-1.html"><em>IDataLogic&lt;T&gt;</em></a>)</li>
</ul>
<p>To get reference to <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryDescription-1.html">IRepositoryDescription&lt;T&gt;</a> interface is required to define maping of <a href="../../glossary.html#repository">repository</a> read/write properties using <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html">IRepositoryStructure&lt;T&gt;</a> interface method <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_Map_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IRepositoryStructureAdapter__0___0___System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IExternalLinkDefinitionAdapter__0__XData_Mapping_Dynamic_IExternalLinkDefinition_____">Map</a>
Example:</p>
<pre><code class="lang-csharp">...
.Map(x =&gt; new Invoice {
    DocState = x.Link&lt;string, DocState&gt;(&quot;S&quot;, &quot;name&quot;,
        z =&gt; z.LinkProperty&lt;DocState&gt;(y =&gt; y.Name),
        z =&gt; z.LinkProperty&lt;DocState&gt;(y =&gt; y.Code, 
            y =&gt; y.DocStateCode),
        z =&gt; z.LinkProperty&lt;DocState&gt;(
            (Invoice y) =&gt; y.GetProperty&lt;long&gt;(&quot;DocStateId&quot;))),
    DocCatalog = x.Link&lt;string, Catalogue&gt;(&quot;U&quot;, &quot;name&quot;, 
        z =&gt; z.LinkProperty(y =&gt; y.Name),
        z =&gt; z.LinkProperty&lt;Catalogue&gt;(
            (Invoice y) =&gt; y.GetProperty&lt;long&gt;(&quot;CatalogueId&quot;))),
    DocNumb = x.Field&lt;string&gt;(&quot;N&quot;, &quot;numb&quot;),
    DocDate = x.Field&lt;DateTime?&gt;(&quot;D&quot;, string.Empty, 
        z =&gt; z.Default(DefaultType.CurrentDate)),
    Scan = x.Lob(&quot;SC&quot;, z =&gt; z.OuterFlag()),
    Source = x.Xml(&quot;SR&quot;, z =&gt; z.OuterFlag()),
    CustomerFrom = x.Link&lt;string, Customer&gt;(&quot;F&quot;, &quot;name&quot;, 
        z =&gt; z.LinkProperty(y =&gt; y.Name),
        z =&gt; z.LinkProperty&lt;Customer&gt;(y =&gt; y.GetProperty&lt;long&gt;(&quot;CustomerId&quot;), 
            y =&gt; y.GetProperty&lt;long&gt;(&quot;FromCustomerId&quot;))),
    CustomerTo = x.Link&lt;string, Customer&gt;(&quot;T&quot;, &quot;name&quot;, 
        z =&gt; z.LinkProperty(y =&gt; y.Name),
        z =&gt; z.LinkProperty&lt;Customer&gt;(y =&gt; y.GetProperty&lt;long&gt;(&quot;CustomerId&quot;), 
            y =&gt; y.GetProperty&lt;long&gt;(&quot;ToCustomerId&quot;))),
    DeliveryType = x.Field(&quot;DD&quot;, string.Empty),
    DeliveryDate = x.Field&lt;DateTime?&gt;(&quot;DD&quot;, string.Empty, 
        z =&gt; z.Default(DefaultType.CurrentDate))
}, x =&gt; x.ExternalLink(&quot;DocId&quot;))
.SetBaseTable(&quot;D&quot;).SetLogicAssembly(&quot;XDataObjectTest&quot;)
... 
</code></pre><p>More detailed repository properties map description <a href="dynamic.html#properties">see below</a>.</p>
<h2 id="tables">Tables</h2>
<p>All tables of <a href="../../glossary.html#data-object">data object</a> mapping decribed by IRepositoryStructure&lt;T&gt;.<a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_DataTable_System_String_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IInnerFilterAdapter_XData_Mapping_Dynamic_IFilterDescription_____">DataTable</a> method. Tables included into <a href="../../glossary.html#updatable-tables-hierarchy">updatable tables hierarchy</a> excluding <a href="../../glossary.html#base-table">base table</a> must be defined using special <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_DataTable_System_String_System_String_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IInnerFilterAdapter_XData_Mapping_Dynamic_IFilterDescription_____">overload</a> alowes to set parent table alias.</p>
<pre><code class="lang-csharp">...
.DataTable(&quot;T_DOC&quot;, &quot;D&quot;, 
    x =&gt; x.DictFilter(&quot;T_DOC_TYPE&quot;, &quot;doc_type_id&quot;, &quot;code&quot;, &quot;INVOICE&quot;))
.DataTable(&quot;T_DOC_DOC_STATE&quot;, &quot;DS&quot;, &quot;D&quot;, x =&gt; x.Link(&quot;D&quot;, &quot;doc_id&quot;))
...
</code></pre><p>Same way is possible to define mapping to <em>view</em>, but all properties must to mapped as <a href="../mapping.html#readonly-properties">read only properties</a> or <a href="../mapping.html#hidden-properties">hidden fields</a>.</p>
<div class="IMPORTANT"><h5>Important</h5><p>Filters and links between tables is defined using <em>filters</em> parameter of IRepositoryStructure&lt;T&gt;.<a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_DataTable_System_String_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IInnerFilterAdapter_XData_Mapping_Dynamic_IFilterDescription_____">DataTable</a> method or it&#39;s <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_DataTable_System_String_System_String_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IInnerFilterAdapter_XData_Mapping_Dynamic_IFilterDescription_____">overload</a>. Detailed filter definition described <a href="dynamic.html#filters">below</a>.</p>
</div>
<h2 id="subqueries">Subqueries</h2>
<p>Subqueries can be used for a:</p>
<ul>
<li>filtration using <em>[not] exists()</em>, <em>[not] in (select)</em> (<a href="dynamic.html#subquery-filters">see below</a>)</li>
<li>inner view</li>
<li>subquery expression as single property source (<a href="dynamic.html#sql-expression-property">see below</a>)</li>
</ul>
<p>Subquery deep level not reglamented.</p>
<p>In dynamic mapping of data object subqueries can be defined using one of  <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_Subquery_System_String_System_Type_System_String_XData_DataGrouping_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_ISubqueryLinkAdapter__0__XData_Mapping_Dynamic_IFilterDescription_____">Subquery</a> or <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_InnerView_System_String_System_Type_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_ISubqueryLinkAdapter__0__XData_Mapping_Dynamic_IFilterDescription_____">InnerView</a> methods overload of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html">IRepositoryStructure&lt;T&gt;</a> interface to define subqueries or inner views respectively.</p>
<p>While using generic overloads of <em>Subquery</em> or <em>InnerView</em>, parameter <em>IQueryDescription&lt;TDobj&gt; sub</em> can be used with in place <a href="../../query.html">dynamic query</a> notation.</p>
<p>Non generic overloads of <em>Subquery</em> or <em>InnerView</em> must provide ISqlType or IDataObject marked class type as parameter <em>Type dobjType</em> to reuse of existing mapping. This class can be mapped using static or dynamic style,<br>no matter.</p>
<pre><code class="lang-csharp">...
.Subquery(&quot;A&quot;, typeof(DocSpecAmounts), &quot;Amount&quot;, DataGrouping.Sum, 
    x =&gt; x.SubqueryLink(&quot;DocId&quot;))
    .Subquery&lt;CatalogueTree&gt;(&quot;UT&quot;, x =&gt; x.CatalogueId, DataGrouping.None)
    .InnerView(&quot;H&quot;, 
        XDataMapping.GetStructure(&quot;H&quot;, null, DataStructureFlag.Grouping, 
            new Variable[0])
        .DataTable(&quot;T_DOC_HISTORY&quot;, &quot;H&quot;)
        .Select(x =&gt; new {
            DocId = x.Field&lt;long?&gt;(&quot;H&quot;, string.Empty, 
                z =&gt; z.Group(DataGrouping.None)),
            HistoryDate = x.Field&lt;DateTime?&gt;(&quot;H&quot;, string.Empty, 
                z =&gt; z.Group(DataGrouping.Max))
        }), 
        x =&gt; x.SubqueryLink(&quot;DocId&quot;).SetOperation(FilterOperation.OuterJoin))
    .InnerView&lt;DocBySpecType&gt;(&quot;ST&quot;, x =&gt; x.SubqueryLink(&quot;DocId&quot;))
...        
</code></pre><h3 id="filters">Filters</h3>
<p>Filters can be defined as:</p>
<ul>
<li>Constant filters</li>
<li>SQL expression filters</li>
<li>Dictionary filters</li>
<li>Range filters</li>
<li>Subquery filters</li>
<li>Inner links</li>
</ul>
<p>Each of them described by corresponding LINQ expression define their parameters depending on the context of their use and the type of the filter itself (see below). Filter descriptions are provided to <em>filters</em> paramter value of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_DataTable_System_String_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IInnerFilterAdapter_XData_Mapping_Dynamic_IFilterDescription_____">DataTable</a>, <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_Subquery_System_String_System_Type_System_String_XData_DataGrouping_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_ISubqueryLinkAdapter__0__XData_Mapping_Dynamic_IFilterDescription_____">Subquery</a>, <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_InnerView_System_String_System_Type_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_ISubqueryLinkAdapter__0__XData_Mapping_Dynamic_IFilterDescription_____">InnerView</a> and <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_Procedure_System_String_System_String_XData_ProcedureType_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IInnerFilterAdapter_XData_Mapping_Dynamic_IFilterDescription_____">Procedure</a> methods of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html">IRepositoryStructure&lt;T&gt;</a> interface, or <a class="xref" href="../../../api/XData.Mapping.Dynamic.IQueryWithAdapter-1.html#XData_Mapping_Dynamic_IQueryWithAdapter_1_WithRecursive__1_System_String_XData_Mapping_Dynamic_IQueryDescription___0__System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_ISubqueryLinkAdapter__0___0__XData_Mapping_Dynamic_IFilterDescription_____">WithRecursive</a> method of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IQueryWithAdapter-1.html">IQueryWithAdapter&lt;TRoot&gt;</a>. Each of expression has described one filter. Type of filter is declared by one of fabric method of interface inside lambda expression with one of followed filter adapter:</p>
<ul>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IInnerFilterAdapter.html">IInnerFilterAdapter</a> - filter adapter to define filters and links inside plain query (see <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_DataTable_System_String_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IInnerFilterAdapter_XData_Mapping_Dynamic_IFilterDescription_____">DataTable</a>, <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_Procedure_System_String_System_String_XData_ProcedureType_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IInnerFilterAdapter_XData_Mapping_Dynamic_IFilterDescription_____">Procedure</a>),</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.ISubqueryLinkAdapter.html">ISubqueryLinkAdapter</a>, <a class="xref" href="../../../api/XData.Mapping.Dynamic.ISubqueryLinkAdapter-1.html">ISubqueryLinkAdapter&lt;TDObj&gt;</a> and <a class="xref" href="../../../api/XData.Mapping.Dynamic.ISubqueryLinkAdapter-2.html">ISubqueryLinkAdapter&lt;T,TDObj&gt;</a> - used in various overloads of subquery definition (see <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_Subquery_System_String_System_Type_System_String_XData_DataGrouping_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_ISubqueryLinkAdapter__0__XData_Mapping_Dynamic_IFilterDescription_____">Subquery</a>, <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_InnerView_System_String_System_Type_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_ISubqueryLinkAdapter__0__XData_Mapping_Dynamic_IFilterDescription_____">InnerView</a> and <a class="xref" href="../../../api/XData.Mapping.Dynamic.IQueryWithAdapter-1.html#XData_Mapping_Dynamic_IQueryWithAdapter_1_WithRecursive__1_System_String_XData_Mapping_Dynamic_IQueryDescription___0__System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_ISubqueryLinkAdapter__0___0__XData_Mapping_Dynamic_IFilterDescription_____">WithRecursive</a>) to declare links with subqueries.</li>
</ul>
<p>Specific parameters for each type of filter is described in filter fabric methods described below in specific topics. And some optional modificators can be defined using continue LINQ calls with extension methods:</p>
<ul>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.QueryDescriptionExtensions.html#XData_Mapping_Dynamic_QueryDescriptionExtensions_SetOperation__1___0_XData_FilterOperation_">SetOperation</a> - to set <a class="xref" href="../../../api/XData.FilterOperation.html">filter operation</a></li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.QueryDescriptionExtensions.html#XData_Mapping_Dynamic_QueryDescriptionExtensions_AsPrimary__1___0_">AsPrimary</a> - to set <a href="../../glossary.html#optional-referencies">optional filter</a> flag</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.QueryDescriptionExtensions.html#XData_Mapping_Dynamic_QueryDescriptionExtensions_SetCombination__1___0_System_String_">SetCombination</a> - to set <a href="../../glossary.html#filter-group">filter combination</a></li>
</ul>
<p>Each of filter type is defined by own special method of corresponding filter adapter. </p>
<p>Filter operation is defined by enum <a class="xref" href="../../../api/XData.FilterOperation.html">FilterOperation</a>:</p>
<ul>
<li><strong>Equal</strong> - equal</li>
<li><strong>NotEqual</strong> - not equal</li>
<li><strong>LessThan</strong> - less then</li>
<li><strong>GreaterThan</strong> - greater then</li>
<li><strong>LessThanOrEqual</strong> - less or equal</li>
<li><strong>GreaterThanOrEqual</strong> - greater or equal</li>
<li><strong>In</strong> - field value in range or subquery</li>
<li><strong>NotIn</strong> - field value is not in range or subquery</li>
<li><strong>Exists</strong> - subquery returns one or more rows</li>
<li><strong>NotExists</strong> - subquery returns no rows</li>
<li><strong>Like</strong> - field value correlated with find expression</li>
<li><strong>NotLike</strong> - field value not correlated with find expression</li>
<li><strong>OuterJoin</strong> - left outer join link between query sources (tables or inner views)</li>
<li><strong>Contains</strong> - field value correlated with fulltext search</li>
<li><strong>NotContains</strong> - field value not correlated with fulltext search</li>
</ul>
<h4 id="filter-group">Filter group</h4>
<p>Filter group of filter can be assigned to it declaration by <a class="xref" href="../../../api/XData.Mapping.Dynamic.QueryDescriptionExtensions.html#XData_Mapping_Dynamic_QueryDescriptionExtensions_SetCombination__1___0_System_String_">SetCombination</a> extension of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IFilterDescription.html">IFilterDescription</a> interface.</p>
<pre><code class="lang-csharp">...
, x =&gt; x.ConstFilter(&quot;FilterByCathalogue&quot;, &quot;catalogue_id&quot;, 
    FilterConstantType.Const, null, FilterNullable.NullsNotAllowed)
    .SetCombination(&quot;root&quot;)
...
</code></pre><h4 id="constant-filters">Constant filters</h4>
<p>Constant filters alowes to restict selection of data by some constant value. This filter defined by one of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IInnerFilterAdapter.html#XData_Mapping_Dynamic_IInnerFilterAdapter_ConstFilter_System_String_System_String_System_Object_">ConstFilter</a> method overloads of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IInnerFilterAdapter.html">IInnerFilterAdapter</a> interface. </p>
<p>Constant type list restricted by enum <a class="xref" href="../../../api/XData.FilterConstantType.html">FilterConstantType</a>:</p>
<ul>
<li><strong>Const</strong> - constant with value setted by <em>ConstantValue</em>.</li>
<li><strong>Variable</strong> - value of <a class="xref" href="../../../api/XData.Variable.html">variable</a> with name setted by <em>ConstantValue</em>.</li>
<li><strong>CurrentDate</strong> - current date.</li>
<li><strong>CurrentDateTime</strong> - current date and time.</li>
<li><strong>CurrentDateTimeUTC</strong> - current date and time (UTC).</li>
</ul>
<pre><code class="lang-csharp">...
, x =&gt; x.ConstFilter(&quot;FilterByCathalogue&quot;, &quot;catalogue_id&quot;, 
    FilterConstantType.Const, null, FilterNullable.NullsNotAllowed)
    .SetCombination(&quot;root&quot;)
...
</code></pre><h4 id="sql-expression-filters">SQL expression filters</h4>
<p>To define filter over SQL expression used one of <em>ExprFilter</em> method overloads of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IInnerFilterAdapter.html">IInnerFilterAdapter</a> interface. There are two overloads of <em>ExprFilter</em> method:</p>
<ul>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IInnerFilterAdapter.html#XData_Mapping_Dynamic_IInnerFilterAdapter_ExprFilter_System_String_System_String_">IFilterDescription ExprFilter(string field, string exprText)</a> - to use with plain SQL expressions or subquery alias</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IInnerFilterAdapter.html#XData_Mapping_Dynamic_IInnerFilterAdapter_ExprFilter__1_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IQueryStructureAdapter___0___">IFilterDescription ExprFilter&lt;T&gt;(string field, Expression&lt;Func&lt;IQueryStructureAdapter, T&gt;&gt; expression)</a> - to use with SQL expressions as LINQ style expressions</li>
</ul>
<p>Depending style of SQL expression description that overloads can be used with: </p>
<ul>
<li>subquery alias,</li>
</ul>
<pre><code class="lang-csharp">, ExprFilter(&quot;discount&quot; /* field name */, 
    &quot;D&quot; /* ExpressionText: subquery alias */)
    .SetOperation(FilterOperation.In)
</code></pre><ul>
<li>dynamic definition of SQL expression,</li>
</ul>
<pre><code class="lang-csharp">, ExprFilter(&quot;discount&quot; /* field name */, 
    /* expression: SQL expression LINQ style definition */
    x =&gt; x.Case&lt;Product, int&gt;( 
        z =&gt; z.Field&lt;bool&gt;(&quot;is_vip&quot;), z =&gt; 0, 1.SetExpression(z =&gt; 10)), 
    Operation: FilterOperation.NotEqual /* filter operation */)]
</code></pre><ul>
<li>plain SQL expression text.</li>
</ul>
<pre><code class="lang-csharp">, ExprFilter(&quot;discount&quot; /* field name */, 
    /* ExpressionText: plain SQL expression */
    &quot;case P.is_vip when 1 then 10 else 0 end&quot;)
    .SetOperation(FilterOperation.NotEqual)
</code></pre><div class="IMPORTANT"><h5>Important</h5><p>If possible do not use plain SQL expressions. It possibly use specific SQL dialect features not supported by other DBMS or providers.</p>
</div>
<h4 id="range-filters">Range filters</h4>
<p>To define filter checks field value over array of values used <a class="xref" href="../../../api/XData.Mapping.Dynamic.IInnerFilterAdapter.html#XData_Mapping_Dynamic_IInnerFilterAdapter_RangeFilter_System_String_System_Object___">RangeFilter</a> methods of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IInnerFilterAdapter.html">IInnerFilterAdapter</a> interface.</p>
<pre><code class="lang-csharp">...
, RangeFilter(&quot;discount&quot;, 1, 5, 10)
    .SetOperation(FilterOperation.In)
... 
</code></pre><h4 id="dictionary-filters">Dictionary filters</h4>
<p>Dictionaries surrogate keys may varied over one instance to another, and names can be changed by users. Sometimes business logic need to operate with the concrete value of dictionary. Because of this it&#39;s recomended to add into dictionary DB structure a special unique text field - mnemonic code.</p>
<p>XData supports using mnemonic code when define filters on dictionary value - dictionary filters. They defined by one of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IInnerFilterAdapter.html#XData_Mapping_Dynamic_IInnerFilterAdapter_DictFilter_System_String_System_String_System_String_System_String_">DictFilter</a> overloads of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IInnerFilterAdapter.html">IInnerFilterAdapter</a> interface.</p>
<div class="IMPORTANT"><h5>Important</h5><p>This filter can be used when dictionary has simple (one field only) identity field and mnemonic code field. But it&#39;s a very common case.</p>
</div>
<pre><code class="lang-csharp">...
, x =&gt; x.DictFilter(&quot;T_DOC_CUST_TYPE&quot;, &quot;doc_cust_type_id&quot;, &quot;code&quot;, &quot;TO&quot;)
...
</code></pre><h4 id="inner-links">Inner links</h4>
<p>To define links between data sources inside query used <a class="xref" href="../../../api/XData.Mapping.Dynamic.IInnerFilterAdapter.html#XData_Mapping_Dynamic_IInnerFilterAdapter_Link_System_String_System_String_">Link</a> overloads of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IInnerFilterAdapter.html">IInnerFilterAdapter</a> interface.</p>
<pre><code class="lang-csharp">...
, x =&gt; x.Link(&quot;DS&quot;, &quot;doc_state_id&quot;)
...
</code></pre><div class="TIP"><h5>Tip</h5><p>Inner links can be used to define <a href="../../../tips/optional.html">optional filters</a>. To specify role in optional filter chain need to call extension method <a class="xref" href="../../../api/XData.Mapping.Dynamic.QueryDescriptionExtensions.html#XData_Mapping_Dynamic_QueryDescriptionExtensions_AsPrimary__1___0_">AsPrimary</a> as continuation of <em>Link</em> method call.</p>
</div>
<h4 id="subquery-filters">Subquery filters</h4>
<p>To define filters checks field value is correspond subquery results used <a class="xref" href="../../../api/XData.Mapping.Dynamic.IInnerFilterAdapter.html#XData_Mapping_Dynamic_IInnerFilterAdapter_SubqueryFilter_System_String_System_String_">SubqueryFilter</a> method of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IInnerFilterAdapter.html">IInnerFilterAdapter</a>.</p>
<pre><code class="lang-csharp">...
.DataTable(&quot;T_DOC_CATALOGUE&quot;, &quot;DC&quot;, &quot;D&quot;, x =&gt; x.Link(&quot;D&quot;, &quot;doc_id&quot;), 
    x =&gt; x.SubqueryFilter(&quot;catalogue_id&quot;, &quot;UT&quot;)
    .SetOperation(FilterOperation.In))
.Subquery&lt;CatalogueTree&gt;(&quot;UT&quot;, x =&gt; x.CatalogueId, DataGrouping.None)                   
... 
</code></pre><div class="TIP"><h5>Tip</h5><p>Subquery filters can be used to define <a href="../../../tips/optional.html">optional filters</a>. To specify role in optional filter chain need to call extension method <a class="xref" href="../../../api/XData.Mapping.Dynamic.QueryDescriptionExtensions.html#XData_Mapping_Dynamic_QueryDescriptionExtensions_AsPrimary__1___0_">AsPrimary</a> as continuation of <em>Link</em> method call.</p>
</div>
<h4 id="subquery-links">Subquery links</h4>
<p>Links with subqueries is used to link not table fields but properties of base class and subquery mapped class including <a href="../mapping.html#hidden-properties">hidden properties</a>. To link with subquery or inner view used one of <em>SubqueryLink</em> method overload of <a class="xref" href="../../../api/XData.Mapping.Dynamic.ISubqueryLinkAdapter.html">ISubqueryLinkAdapter</a>, <a class="xref" href="../../../api/XData.Mapping.Dynamic.ISubqueryLinkAdapter-1.html">ISubqueryLinkAdapter&lt;TDObj&gt;</a> or <a class="xref" href="../../../api/XData.Mapping.Dynamic.ISubqueryLinkAdapter-2.html">ISubqueryLinkAdapter&lt;T,TDObj&gt;</a> depending by outer method signature and subquery declaration specific.</p>
<pre><code class="lang-csharp">...
.InnerView&lt;DocBySpecType&gt;(&quot;ST&quot;, x =&gt; x.SubqueryLink(&quot;DocId&quot;))
...
</code></pre><div class="TIP"><h5>Tip</h5><p>Subquery links can be used to define <a href="../../../tips/optional.html">optional filters</a>. To specify role in optional filter chain need to call extension method <a class="xref" href="../../../api/XData.Mapping.Dynamic.QueryDescriptionExtensions.html#XData_Mapping_Dynamic_QueryDescriptionExtensions_AsPrimary__1___0_">AsPrimary</a> as continuation of <em>Link</em> method call.</p>
</div>
<h3 id="properties">Properties</h3>
<p>Properties dynamic mapping is performed as method call of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html">IRepositoryStructure&lt;T&gt;</a> interface:</p>
<ul>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_Column__1_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IRepositoryStructureAdapter__0____0___">Column</a> method call for each of <a href="../mapping.html#hidden-properties">hidden properties</a> mapping</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_ReadOnlyProperty__1_System_Linq_Expressions_Expression_System_Func__0___0___System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IRepositoryStructureAdapter__0____0___">ReadOnlyProperty</a> method call for each of <a href="../mapping.html#readonly-properties">readonly properties</a> mapping</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_Map_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IRepositoryStructureAdapter__0___0___System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IExternalLinkDefinitionAdapter__0__XData_Mapping_Dynamic_IExternalLinkDefinition_____">Map</a> method call for declare all of read/write properties mapping</li>
</ul>
<pre><code class="lang-csharp">...
.Column(&quot;DocId&quot;, x =&gt; x.Field&lt;long?&gt;(&quot;D&quot;, string.Empty, 
    z =&gt; z.Key(), z =&gt; z.Default(DefaultType.AutoIncrement)))
...
.ReadOnlyProperty(x =&gt; x.Changed, 
    x =&gt; x.Field&lt;DateTime&gt;(&quot;D&quot;, string.Empty, 
        z =&gt; z.Default(DefaultType.CurrentDateTime, DefaultFeature.UseOnUpdate)))
...
</code></pre><p>Parameter <em>mapper</em> of <em>Map</em> method alowes to define mapping rule for multiple read/write properties using lambda expression with <a class="xref" href="../../../api/XData.Mapping.Dynamic.IQueryStructureAdapter.html">IQueryStructureAdapter</a> interface as parameter.</p>
<pre><code class="lang-csharp">...
.Map(x =&gt; new Invoice {
    DocState = x.Link&lt;string, DocState&gt;(&quot;S&quot;, &quot;name&quot;,
        z =&gt; z.LinkProperty&lt;DocState&gt;(y =&gt; y.Name),
        z =&gt; z.LinkProperty&lt;DocState&gt;(y =&gt; y.Code, y =&gt; y.DocStateCode),
        z =&gt; z.LinkProperty&lt;DocState&gt;(
            (Invoice y) =&gt; y.GetProperty&lt;long&gt;(&quot;DocStateId&quot;))),
    DocCatalog = x.Link&lt;string, Catalogue&gt;(&quot;U&quot;, &quot;name&quot;, 
        z =&gt; z.LinkProperty&lt;Catalogue&gt;(y =&gt; y.Name),
        z =&gt; z.LinkProperty&lt;Catalogue&gt;(
            (Invoice y) =&gt; y.GetProperty&lt;long&gt;(&quot;CatalogueId&quot;))),
    DocNumb = x.Field&lt;string&gt;(&quot;N&quot;, &quot;numb&quot;),
    DocDate = x.Field&lt;DateTime?&gt;(&quot;D&quot;, string.Empty, 
        z =&gt; z.Default(DefaultType.CurrentDate)),
    Scan = x.Lob(&quot;SC&quot;, z =&gt; z.OuterFlag()),
    Source = x.Xml(&quot;SR&quot;, z =&gt; z.OuterFlag()),
    CustomerFrom = x.Link&lt;string, Customer&gt;(&quot;F&quot;, &quot;name&quot;, 
        z =&gt; z.LinkProperty&lt;Customer&gt;(y =&gt; y.Name),
        z =&gt; z.LinkProperty&lt;Customer&gt;(y =&gt; y.GetProperty&lt;long&gt;(&quot;CustomerId&quot;), 
            y =&gt; y.GetProperty&lt;long&gt;(&quot;FromCustomerId&quot;))),
    CustomerTo = x.Link&lt;string, Customer&gt;(&quot;T&quot;, &quot;name&quot;, 
        z =&gt; z.LinkProperty&lt;Customer&gt;(y =&gt; y.Name),
        z =&gt; z.LinkProperty&lt;Customer&gt;(y =&gt; y.GetProperty&lt;long&gt;(&quot;CustomerId&quot;), 
            y =&gt; y.GetProperty&lt;long&gt;(&quot;ToCustomerId&quot;))),
    DeliveryType = x.Field&lt;DeliveryTypeEnum&gt;(&quot;DD&quot;, string.Empty),
    DeliveryDate = x.Field&lt;DateTime?&gt;(&quot;DD&quot;, string.Empty, 
        z =&gt; z.Default(DefaultType.CurrentDate))
}, x =&gt; x.ExternalLink&lt;InvoiceSpec&gt;(&quot;DocId&quot;))
...
</code></pre><p>Interfaces <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter-1.html">IRepositoryStructureAdapter&lt;T&gt;</a> and <a class="xref" href="../../../api/XData.Mapping.Dynamic.IQueryStructureAdapter.html">IQueryStructureAdapter</a> as successor has some overloads of methods to define mapping:</p>
<ul>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter-1.html#XData_Mapping_Dynamic_IRepositoryStructureAdapter_1_Field__1_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IRepositoryPropertyMappingAdapter__0___0__XData_Mapping_Dynamic_IStructureFlag_____">Field&lt;TVal&gt;</a> - for mapping property to data source field</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter.html#XData_Mapping_Dynamic_IRepositoryStructureAdapter_Expr__1_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IQueryStructureAdapter___0___System_Data_DbType_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IRepositoryExpressionMappingAdapter_XData_Mapping_Dynamic_IStructureFlag_____">Expr&lt;TVal&gt;</a> - for mapping property to SQL expression (see detailed description <a href="dynamic.html#sql-expression-property">below</a>)</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter.html#XData_Mapping_Dynamic_IRepositoryStructureAdapter_Ref__1_System_String_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IRepositoryReadOnlyPropertyMappingAdapter_XData_Mapping_Dynamic_IStructureFlag_____">Ref&lt;TVal&gt;</a> - for mapping property to inner view property (see detailed description <a href="dynamic.html#inner-view-reference">below</a>)</li>
</ul>
<p><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter-1.html">IRepositoryStructureAdapter&lt;T&gt;</a> also has a special methods to map <a class="xref" href="../../../api/XData.Mapping.Lob.html">Lob</a>, <a class="xref" href="../../../api/XData.Mapping.Xml.html">Xml</a> and <a class="xref" href="../../../api/XData.Mapping.Link-2.html">Link&lt;TVal,TSource&gt;</a></p>
<ul>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter-1.html#XData_Mapping_Dynamic_IRepositoryStructureAdapter_1_Lob_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IRepositoryReadOnlyPropertyMappingAdapter_XData_Mapping_Dynamic_IStructureFlag_____">Lob</a> - for mapping Lob property</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter-1.html#XData_Mapping_Dynamic_IRepositoryStructureAdapter_1_Xml_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IRepositoryReadOnlyPropertyMappingAdapter_XData_Mapping_Dynamic_IStructureFlag_____">Xml</a> - for mapping Xml property</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter-1.html#XData_Mapping_Dynamic_IRepositoryStructureAdapter_1_Link__2_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_ILinkPropertyMappingAdapter__0__XData_Mapping_Dynamic_IStructureFlag_____">Link&lt;TVal,TSource&gt;</a> - for mapping <a href="../mapping.html#link-properties">link</a> property (see detailed description <a href="dynamic.html#links">below</a>)</li>
</ul>
<p>These methods of single property mapping has parameter <em>attributes</em> to define additional mapping properties using interface <a class="xref" href="../../../api/XData.Mapping.Dynamic.IPropertyMappingAdapter.html">IPropertyMappingAdapter</a>:</p>
<ul>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IPropertyMappingAdapter.html#XData_Mapping_Dynamic_IPropertyMappingAdapter_Key">Key</a> - primary unique key property flag, possible to mark multiple properties or <a href="../mapping.html#hidden-properties">hidden properties</a> as key properties</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IPropertyMappingAdapter.html#XData_Mapping_Dynamic_IPropertyMappingAdapter_Hidden">Hidden</a> - flag, the field should not be included in the <em>SELECT</em> expression, but can be used in filters and/or links between data sources (tables, subqueries...)</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IPropertyMappingAdapter.html#XData_Mapping_Dynamic_IPropertyMappingAdapter_Group_System_Int32_">Group</a> - property grouping parameters (see detailed description <a href="dynamic.html#property-grouping-parameters">below</a>)</li>
</ul>
<p>And using interface <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryPropertyMappingAdapter-2.html">IRepositoryPropertyMappingAdapter&lt;T, TValue&gt;</a>:</p>
<ul>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryReadOnlyPropertyMappingAdapter.html#XData_Mapping_Dynamic_IRepositoryReadOnlyPropertyMappingAdapter_ConcurrencyToken">ConcurrencyToken</a> - <a href="../../concurrency.html">concurrency token</a> flag for property</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryPropertyMappingAdapter-2.html#XData_Mapping_Dynamic_IRepositoryPropertyMappingAdapter_2_Default_XData_DefaultType_">Default</a> - <a href="">default value</a> assign rules for property</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryReadOnlyPropertyMappingAdapter.html#XData_Mapping_Dynamic_IRepositoryReadOnlyPropertyMappingAdapter_OuterFlag">OuterFlag</a> - outer join mandatory flag, values of properties marked this flag is analyzed during making decision of operations over tables in <a href="../../glossary.html#optional-referencies">optional references</a></li>
</ul>
<div class="IMPORTANT"><h5>Important</h5><p>Required to set at least one property of mapped class as primary unique key. Subqueries and inner views can has no key properties.</p>
</div>
<p>Interface <em>IQueryStructureAdapter&lt;T&gt;</em> is used in <a href="../../query.html">dynamic queries</a> only.
Interfaces <em>IRepositoryStructureAdapter</em> and <em>IRepositoryStructureAdapter&lt;T&gt;</em> is used in dynamic repository mapping only.
Interface <em>IPropertyMappingAdapter</em> is used as in <a href="../../query.html">dynamic queries</a> as in dynamic repository mapping.
Interface <em>IRepositoryPropertyMappingAdapter</em> is inherited from [IPropertyMappingAdapter] and used in dynamic repository mapping only.</p>
<h4 id="sql-expression-property">SQL expression property</h4>
<p><a href="../mapping.html#readonly-properties">Readonly property</a> can be mapped to SQL expression. Dynamic mapping of SQL expression is defined by one of  <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter.html">IRepositoryStructureAdapter</a> interface <em>Expr</em> method overload:</p>
<ul>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter.html#XData_Mapping_Dynamic_IRepositoryStructureAdapter_Expr__1_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IQueryStructureAdapter___0___System_Data_DbType_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IRepositoryExpressionMappingAdapter_XData_Mapping_Dynamic_IStructureFlag_____">Expr&lt;TValue&gt;(string fieldName, Expression&lt;Func&lt;IQueryStructureAdapter, TValue&gt;&gt; expr, DbType dbType, params Expression&lt;Func&lt;IRepositoryExpressionMappingAdapter, IStructureFlag&gt;&gt;[] attributes)</a></li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter.html#XData_Mapping_Dynamic_IRepositoryStructureAdapter_Expr__1_System_String_XData_DataExpressionType_System_String_System_Data_DbType_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IRepositoryExpressionMappingAdapter_XData_Mapping_Dynamic_IStructureFlag_____">Expr&lt;TValue&gt;(string fieldName, DataExpressionType type, string exprText, DbType dbType, params Expression&lt;Func&lt;IRepositoryExpressionMappingAdapter, IStructureFlag&gt;&gt;[] attributes)</a> - used to define sql expression <em>DataExpressionType.SubQuery</em> or <em>DataExpressionType.PlainSql</em></li>
</ul>
<p>When first overload used, SQL expression is defined by <em>expr</em> parameter value as lambda function with <a class="xref" href="../../../api/XData.Mapping.Dynamic.IQueryStructureAdapter.html">IQueryStructureAdapter</a> interface extension methods inside:</p>
<ul>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.QueryDescriptionExtensions.html#XData_Mapping_Dynamic_QueryDescriptionExtensions_Case__2_XData_Mapping_Dynamic_IQueryStructureAdapter_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IQueryStructureAdapter___0___System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IQueryStructureAdapter___1___XData_Mapping_Dynamic_TaggedExpression___0___1____">Case&lt;T, TResult&gt;(this IQueryStructureAdapter adapter, Expression&lt;Func&lt;IQueryStructureAdapter, T&gt;&gt; expression, Expression&lt;Func&lt;IQueryStructureAdapter, TResult&gt;&gt; elseValue, params TaggedExpression&lt;T, TResult&gt;[] switchValues)</a> - <em>case when ... then ... else ... end</em> SQL construction</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.QueryDescriptionExtensions.html#XData_Mapping_Dynamic_QueryDescriptionExtensions_DateDiff__1_XData_Mapping_Dynamic_IQueryStructureAdapter_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IQueryStructureAdapter_System_DateTime___System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IQueryStructureAdapter_System_DateTime___XData_DateDiffKind_">DateDiff&lt;T&gt;(this IQueryStructureAdapter adapter, Expression&lt;Func&lt;IQueryStructureAdapter, DateTime&gt;&gt; finalDate, Expression&lt;Func&lt;IQueryStructureAdapter, DateTime&gt;&gt; startDate, DateDiffKind kind)</a> - date difference</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.QueryDescriptionExtensions.html#XData_Mapping_Dynamic_QueryDescriptionExtensions_Exists_XData_Mapping_Dynamic_IQueryStructureAdapter_System_String_">Exists(this IQueryStructureAdapter adapter, string subQueryAlias)</a> - <em>exists(select ...)</em> SQL construction</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.QueryDescriptionExtensions.html#XData_Mapping_Dynamic_QueryDescriptionExtensions_HasFlag__1_XData_Mapping_Dynamic_IQueryStructureAdapter_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IQueryStructureAdapter___0___System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IQueryStructureAdapter___0___System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IQueryStructureAdapter___0___System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IQueryStructureAdapter___0___">HasFlag&lt;T&gt;(this IQueryStructureAdapter adapter, Expression&lt;Func&lt;IQueryStructureAdapter, T&gt;&gt; expression, Expression&lt;Func&lt;IQueryStructureAdapter, T&gt;&gt; flagValue, Expression&lt;Func&lt;IQueryStructureAdapter, T&gt;&gt; trueValue, Expression&lt;Func&lt;IQueryStructureAdapter, T&gt;&gt; falseValue)</a> - bitwise mask checking for value</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.QueryDescriptionExtensions.html#XData_Mapping_Dynamic_QueryDescriptionExtensions_SqlExpr__1_XData_Mapping_Dynamic_IQueryStructureAdapter_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IQueryStructureAdapter___0_____">SqlExpr&lt;TResult&gt;(this IQueryStructureAdapter adapter, string format, params Expression&lt;Func&lt;IQueryStructureAdapter, TResult&gt;&gt;[] expressions)</a> - mixing plain SQL expressions with LINQ style defined expression subparts, parameter <em>format</em> is the string.Format mask</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.QueryDescriptionExtensions.html#XData_Mapping_Dynamic_QueryDescriptionExtensions_SqlFn__1_XData_Mapping_Dynamic_IQueryStructureAdapter_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IQueryStructureAdapter_System_Object_____">SqlFn&lt;TResult&gt;(this IQueryStructureAdapter adapter, string name, params Expression&lt;Func&lt;IQueryStructureAdapter, object&gt;&gt;[] parameters)</a> - SQL function call expression</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.QueryDescriptionExtensions.html#XData_Mapping_Dynamic_QueryDescriptionExtensions_SqlParam__1_XData_Mapping_Dynamic_IQueryStructureAdapter_System_String_System_Data_DbType_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IProcedureParameterAdapter_XData_Mapping_Dynamic_IProcedureParameterFlag_____">SqlParam&lt;TResult&gt;(this IQueryStructureAdapter adapter, string binding, DbType type, params Expression&lt;Func&lt;IProcedureParameterAdapter, IProcedureParameterFlag&gt;&gt;[] attributes)</a> - SQL function parameter value expression</li>
</ul>
<p>Mapping parameters of SQL expressions is defined by <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryExpressionMappingAdapter.html">IRepositoryExpressionMappingAdapter</a> interface methods:</p>
<ul>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IExpressionPropertyAdapter.html#XData_Mapping_Dynamic_IExpressionPropertyAdapter_NativeSqlType_System_String_">NativeSqlType(string nativeSqlType)</a> - set native SQL type name of expression result, used when expression result type has specific SQL type</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IExpressionPropertyAdapter.html#XData_Mapping_Dynamic_IExpressionPropertyAdapter_Size_System_Int32_">Size(int size)</a> - set number or varchar length of SQL expression result type</li>
<li><p><a class="xref" href="../../../api/XData.Mapping.Dynamic.IExpressionPropertyAdapter.html#XData_Mapping_Dynamic_IExpressionPropertyAdapter_Size_System_Int32_System_Int32_">Size(int size, int scale)</a> - set length and scale for floating point SQL data types</p>
</li>
<li><p>subquery,</p>
</li>
</ul>
<pre><code class="lang-csharp">...
.ReadOnlyProperty(x =&gt; x.DocAmount, 
    x =&gt; x.Expr&lt;decimal?&gt;(null, DataExpressionType.SubQuery, 
        &quot;A&quot;, DbType.Decimal, z =&gt; z.Size(17, 5)))
...
</code></pre><ul>
<li>LINQ expression,</li>
</ul>
<pre><code class="lang-csharp">...
.ReadOnlyProperty(x =&gt; x.AllowedDiscount, 
    x =&gt; x.Expr&lt;int&gt;(null, y =&gt; y.Case&lt;Product, int&gt;( 
        z =&gt; z.Field&lt;bool&gt;(&quot;is_vip&quot;), z =&gt; 0, 1.SetExpression(z =&gt; 10)), 
        DbType.Decimal, z =&gt; z.Size(17, 5)))
...
</code></pre><ul>
<li>plain text SQL expression.</li>
</ul>
<pre><code class="lang-csharp">...
.ReadOnlyProperty(x =&gt; x.AllowedDiscount, 
    x =&gt; x.Expr&lt;int&gt;(null, DataExpressionType.PlainSql, 
        &quot;case P.is_vip when 1 then 10 else 0 end&quot;,
        DbType.Decimal, z =&gt; z.Size(17, 5)))
...
</code></pre><div class="IMPORTANT"><h5>Important</h5><p>If possible do not use plain SQL expressions. It possibly use specific SQL dialect features not supported by other DBMS or providers.</p>
</div>
<h4 id="property-default-value">Property default value</h4>
<p>To set default value of property with dynamic mapping, use one of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryPropertyMappingAdapter-2.html">IRepositoryPropertyMappingAdapter&lt;T, TValue&gt;</a> interface <em>Default</em> method overload:</p>
<ul>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryPropertyMappingAdapter-2.html#XData_Mapping_Dynamic_IRepositoryPropertyMappingAdapter_2_Default_XData_DefaultType_">Default(DefaultType source)</a> - use with <em>DefaultType.AutoIncrement</em>, <em>DefaultType.CurrentDate</em>, <em>DefaultType.CurrentDateTime</em>, <em>DefaultType.CurrentDateTimeUtc</em>, <em>DefaultType.NewGuid</em>, <em>DefaultType.UserName</em> where default value asssigned data row on insert only</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryPropertyMappingAdapter-2.html#XData_Mapping_Dynamic_IRepositoryPropertyMappingAdapter_2_Default_XData_DefaultType_XData_DefaultFeature_">Default(DefaultType source, DefaultFeature features)</a> - use with <em>DefaultType.AutoIncrement</em>, <em>DefaultType.CurrentDate</em>, <em>DefaultType.CurrentDateTime</em>, <em>DefaultType.CurrentDateTimeUtc</em>, <em>DefaultType.NewGuid</em>, <em>DefaultType.UserName</em> where default value asssigned data row on insert or update</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryPropertyMappingAdapter-2.html#XData_Mapping_Dynamic_IRepositoryPropertyMappingAdapter_2_Default_XData_DefaultType__1_">Default(DefaultType source, TValue value)</a> - use with <em>DefaultType.Const</em> or <em>DefaultType.Variable</em> where default value asssigned data row on insert only</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryPropertyMappingAdapter-2.html#XData_Mapping_Dynamic_IRepositoryPropertyMappingAdapter_2_Default_XData_DefaultType__1_XData_DefaultFeature_">Default(DefaultType source, TValue value, DefaultFeature features)</a> - use with <em>DefaultType.Const</em> or <em>DefaultType.Variable</em> where default value asssigned data row on insert or update</li>
</ul>
<pre><code class="lang-csharp">...
.ReadOnlyProperty(x =&gt; x.Changed, 
    x =&gt; x.Field&lt;DateTime&gt;(&quot;D&quot;, string.Empty, 
        z =&gt; z.Default(DefaultType.CurrentDateTime, DefaultFeature.UseOnUpdate)))
...                 
</code></pre><h4 id="property-grouping-parameters">Property grouping parameters</h4>
<p>Property grouping parameters used when data object mapped to grouped query to specify property role in GROUP BY expression. Use one of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IPropertyMappingAdapter.html">IPropertyMappingAdapter</a> interface <em>Group</em> method overload: </p>
<ul>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IPropertyMappingAdapter.html#XData_Mapping_Dynamic_IPropertyMappingAdapter_Group_System_Int32_">Group(int groupOrder)</a> - when property mapped to field query grouped by with N-th order</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IPropertyMappingAdapter.html#XData_Mapping_Dynamic_IPropertyMappingAdapter_Group_XData_DataGrouping_">Group(DataGrouping grouping)</a> - when property mapped to aggregation function over field</li>
</ul>
<pre><code class="lang-csharp">...
HistoryDate = x.Field&lt;DateTime?&gt;(&quot;H&quot;, string.Empty, 
    z =&gt; z.Group(DataGrouping.Max))
...                     
</code></pre><h4 id="hidden-properties">Hidden properties</h4>
<p><a href="../mapping.html#hidden-properties">Hidden properties</a> dynamically defined using  <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_Column__1_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IRepositoryStructureAdapter__0____0___">Column</a> method call of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html">IRepositoryStructure&lt;T&gt;</a> interface.</p>
<p><em>Hidden property</em> can be mapped to:</p>
<ul>
<li>data source field - <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter-1.html#XData_Mapping_Dynamic_IRepositoryStructureAdapter_1_Field__1_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IRepositoryPropertyMappingAdapter__0___0__XData_Mapping_Dynamic_IStructureFlag_____">Field&lt;TVal&gt;</a></li>
<li>SQL expression (see detailed description <a href="dynamic.html#sql-expression-property">above</a>) - <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter.html#XData_Mapping_Dynamic_IRepositoryStructureAdapter_Expr__1_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IQueryStructureAdapter___0___System_Data_DbType_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IRepositoryExpressionMappingAdapter_XData_Mapping_Dynamic_IStructureFlag_____">Expr&lt;TVal&gt;</a></li>
<li>inner view property (see detailed description <a href="dynamic.html#inner-view-reference">below</a>) - <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter.html#XData_Mapping_Dynamic_IRepositoryStructureAdapter_Ref__1_System_String_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IRepositoryReadOnlyPropertyMappingAdapter_XData_Mapping_Dynamic_IStructureFlag_____">Ref&lt;TVal&gt;</a></li>
</ul>
<pre><code class="lang-csharp">...
.Column(&quot;DocId&quot;, x =&gt; x.Field&lt;long?&gt;(&quot;D&quot;, string.Empty, 
    z =&gt; z.Key(), z =&gt; z.Default(DefaultType.AutoIncrement)))
...
</code></pre><h4 id="inner-view-reference">Inner view reference</h4>
<p>To map property to field from inner view used one of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter.html">IRepositoryStructureAdapter</a> interface <em>Ref</em> method overload:</p>
<ul>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter.html#XData_Mapping_Dynamic_IRepositoryStructureAdapter_Ref__1_System_String_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IRepositoryReadOnlyPropertyMappingAdapter_XData_Mapping_Dynamic_IStructureFlag_____">Ref&lt;TValue&gt;(string sourceAlias, string property, params Expression&lt;Func&lt;IRepositoryPropertyMappingAdapter, IStructureFlag&gt;&gt;[] attributes)</a> - used when referenced property is a <a href="../mapping.html#hidden-properties">hidden property</a></li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter.html#XData_Mapping_Dynamic_IRepositoryStructureAdapter_Ref__2_System_String_System_Linq_Expressions_Expression_System_Func___1_System_Object___System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IRepositoryReadOnlyPropertyMappingAdapter_XData_Mapping_Dynamic_IStructureFlag_____">Ref&lt;TValue, TDobj&gt;(string sourceAlias, Expression&lt;Func&lt;TDobj, object&gt;&gt; property, params Expression&lt;Func&lt;IRepositoryPropertyMappingAdapter, IStructureFlag&gt;&gt;[] attributes)</a></li>
</ul>
<pre><code class="lang-csharp">.ReadOnlyProperty(x =&gt; x.DocLastChange, x =&gt; x.Ref&lt;DateTime?&gt;(&quot;H&quot;, &quot;HistoryDate&quot;))
</code></pre><h4 id="links">Links</h4>
<p>To dynamically define <a href="../mapping.html#link-properties">link property</a> used one of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter-1.html">IRepositoryStructureAdapter&lt;T&gt;</a> interface <em>Link</em> method overload:</p>
<ul>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter-1.html#XData_Mapping_Dynamic_IRepositoryStructureAdapter_1_Link__2_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_ILinkPropertyMappingAdapter__0__XData_Mapping_Dynamic_IStructureFlag_____">Link&lt;TValue, TSource&gt; Link&lt;TValue, TSource&gt;(string sourceAlias, params Expression&lt;Func&lt;ILinkPropertyMappingAdapter&lt;T&gt;, IStructureFlag&gt;&gt;[] attributes)</a> - used when source property is correlated with property name with default name mapping rule (<em>hungarian_notation</em> in DB and <em>CamelCaseNotation</em> property name in code)</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructureAdapter-1.html#XData_Mapping_Dynamic_IRepositoryStructureAdapter_1_Link__2_System_String_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_ILinkPropertyMappingAdapter__0__XData_Mapping_Dynamic_IStructureFlag_____">Link&lt;TValue, TSource&gt; Link&lt;TValue, TSource&gt;(string sourceAlias, string fieldName, params Expression&lt;Func&lt;ILinkPropertyMappingAdapter&lt;T&gt;, IStructureFlag&gt;&gt;[] attributes)</a></li>
</ul>
<p>Parameter <em>attributes</em> of method <em>Link</em> value used to define link properties pairs with one of <a class="xref" href="../../../api/XData.Mapping.Dynamic.ILinkPropertyMappingAdapter-1.html">ILinkPropertyMappingAdapter&lt;T&gt;</a> interface <em>LinkProperties</em> method overload call:</p>
<ul>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.ILinkPropertyMappingAdapter-1.html#XData_Mapping_Dynamic_ILinkPropertyMappingAdapter_1_LinkProperty">LinkProperty()</a> - used property of source object to assiciate with link property defined by <em>Link</em> method</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.ILinkPropertyMappingAdapter-1.html#XData_Mapping_Dynamic_ILinkPropertyMappingAdapter_1_LinkProperty__1_System_Linq_Expressions_Expression_System_Func___0_System_Object___">LinkProperty&lt;TSource&gt;(Expression&lt;Func&lt;TSource, object&gt;&gt; source)</a> - used <em>source</em> as source property and equal named property from target object</li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.ILinkPropertyMappingAdapter-1.html#XData_Mapping_Dynamic_ILinkPropertyMappingAdapter_1_LinkProperty__1_System_Linq_Expressions_Expression_System_Func___0_System_Object___System_Linq_Expressions_Expression_System_Func__0_System_Object___">LinkProperty&lt;TSource&gt;(Expression&lt;Func&lt;TSource, object&gt;&gt; source, Expression&lt;Func&lt;T, object&gt;&gt; property)</a> - specifing both properties</li>
</ul>
<pre><code class="lang-csharp">...
DocState = x.Link&lt;string, DocState&gt;(&quot;S&quot;, &quot;name&quot;,
    z =&gt; z.LinkProperty&lt;DocState&gt;(y =&gt; y.Name),
    z =&gt; z.LinkProperty&lt;DocState&gt;(y =&gt; y.Code, y =&gt; y.DocStateCode)
    z =&gt; z.LinkProperty&lt;DocState&gt;(
        (Invoice y) =&gt; y.GetProperty&lt;long&gt;(&quot;DocStateId&quot;))),
...
</code></pre><h2 id="tree">Tree</h2>
<p>To dynamically map tree organized data structure used special method <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_With__1_System_String_XData_Mapping_Dynamic_IQueryDescription___0__System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IQueryWithAdapter___0__XData_Mapping_Dynamic_IQueryWithFlag_____">With</a> of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html">RepositoryStructure&lt;T&gt;</a> interface to describe tree root query and tree childs. Both of them use subquery mappings (see example below) to set subquery structure for tree query construction. </p>
<div class="IMPORTANT"><h5>Important</h5><p><a href="../../glossary.html#data-source-flags">Data source flags</a> of tree organized data sources must contain DataStructureFlag.ReadOnly and DataStructureFlag.Tree!</p>
</div>
<pre><code class="lang-csharp">private static Expression&lt;CustomMapping&lt;CatalogueTree&gt;&gt; _unused = (
    () =&gt; XDataMapping.CustomMapping&lt;CatalogueTree&gt;()
        .With(&quot;CAT&quot;, XDataMapping.GetStructure(&quot;R&quot;, null, 
            DataStructureFlag.ReadOnly)
            .DataTable(&quot;T_CATALOGUE&quot;, &quot;R&quot;,  
                x =&gt; x.Combination(&quot;root&quot;, Combination.Or),
                x =&gt; x.ConstFilter(&quot;FilterByCathalogue&quot;, &quot;catalogue_id&quot;, 
                        FilterConstantType.Const, null, 
                        FilterNullable.NullsNotAllowed).SetCombination(&quot;root&quot;),
                x =&gt; x.ConstFilter(&quot;FilterByRoot&quot;, &quot;parent_id&quot;,
                        FilterConstantType.Const, null, 
                        FilterNullable.NullsCompared)
                    .SetCombination(&quot;root&quot;))
            .Select(x =&gt; new {
                CatalogueId = x.Field&lt;long&gt;(&quot;R&quot;, string.Empty, z =&gt; z.Key()),
                Code = x.Field&lt;string&gt;(&quot;R&quot;, string.Empty),
                Name = x.Field&lt;string&gt;(&quot;R&quot;, string.Empty),
                ParentId = x.Field&lt;long?&gt;(&quot;R&quot;, string.Empty),
            }), x =&gt; x.Properties(z =&gt; z.CatalogueId, 
                z =&gt; z.Code, z =&gt; z.Name, z =&gt; z.ParentId),
            x =&gt; x.WithRecursive(&quot;S&quot;, XDataMapping
                .GetStructure(&quot;S&quot;, null, DataStructureFlag.ReadOnly)
                .DataTable(&quot;T_CATALOGUE&quot;, &quot;S&quot;)
                .Select(y =&gt; new {
                    CatalogueId = y.Field&lt;long&gt;(&quot;S&quot;, string.Empty, z =&gt; z.Key()),
                    Code = y.Field&lt;string&gt;(&quot;S&quot;, string.Empty),
                    Name = y.Field&lt;string&gt;(&quot;S&quot;, string.Empty),
                    ParentId = y.Field&lt;long?&gt;(&quot;S&quot;, string.Empty)
                }), 
                z =&gt; z.SubqueryLink(y =&gt; y.ParentId, y =&gt; y.CatalogueId)))
        .ReadOnlyProperty(x =&gt; x.CatalogueId, 
            x =&gt; x.Field&lt;long&gt;(&quot;CAT&quot;, string.Empty, z =&gt; z.Key()))
        .ReadOnlyProperty(x =&gt; x.Code, 
            x =&gt; x.Field&lt;string&gt;(&quot;CAT&quot;, string.Empty))
        .ReadOnlyProperty(x =&gt; x.Name, 
            x =&gt; x.Field&lt;string&gt;(&quot;CAT&quot;, string.Empty))
        .ReadOnlyProperty(x =&gt; x.ParentId, 
            x =&gt; x.Field&lt;long?&gt;(&quot;CAT&quot;, string.Empty))
        .Map(x =&gt; new CatalogueTree())
        .SetFlags(DataStructureFlag.ReadOnly | DataStructureFlag.Tree)
    );
</code></pre><h3 id="external-link">External link</h3>
<p><a href="../mapping.html#master-detail-relations">External link</a> can be dynamically defined using expression of type <a class="xref" href="../../../api/XData.Mapping.Dynamic.IExternalLinkDefinition.html">Expression<iexternallinkdefinition></iexternallinkdefinition></a> as part of call <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_Map_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IRepositoryStructureAdapter__0___0___System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IExternalLinkDefinitionAdapter__0__XData_Mapping_Dynamic_IExternalLinkDefinition_____">Map</a> method of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html">IRepositoryStructure<t></t></a> interface.</p>
<p><em>Expression&lt;IExternalLinkDefinition&gt;</em> can be obtained using multiple overloads of <em>ExternalLink</em> method of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IExternalLinkDefinitionAdapter-1.html">ExternalLinkDefinitionAdapter&lt;T&gt;</a>:</p>
<ul>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IExternalLinkDefinitionAdapter-1.html#XData_Mapping_Dynamic_IExternalLinkDefinitionAdapter_1_ExternalLink__1_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IExternalLinkAdapter__0___0__XData_Mapping_Dynamic_IExternalLinkFlag_____">IExternalLinkDefinition ExternalLink&lt;TChild&gt;(params Expression&lt;Func&lt;IExternalLinkAdapter&lt;T, TChild&gt;, IExternalLinkFlag&gt;&gt;[] linkFlags)</a></li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IExternalLinkDefinitionAdapter-1.html#XData_Mapping_Dynamic_IExternalLinkDefinitionAdapter_1_ExternalLink__1_System_Linq_Expressions_Expression_System_Func__0_System_Object___System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IExternalLinkAdapter__0___0__XData_Mapping_Dynamic_IExternalLinkFlag_____">IExternalLinkDefinition ExternalLink&lt;TChild&gt;(Expression&lt;Func&lt;T, object&gt;&gt; property, params Expression&lt;Func&lt;IExternalLinkAdapter&lt;T, TChild&gt;, IExternalLinkFlag&gt;&gt;[] linkFlags)</a></li>
<li><a class="xref" href="../../../api/XData.Mapping.Dynamic.IExternalLinkDefinitionAdapter-1.html#XData_Mapping_Dynamic_IExternalLinkDefinitionAdapter_1_ExternalLink__1_System_String_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IExternalLinkAdapter__0___0__XData_Mapping_Dynamic_IExternalLinkFlag_____">IExternalLinkDefinition ExternalLink&lt;TChild&gt;(string property, params Expression&lt;Func&lt;IExternalLinkAdapter&lt;T, TChild&gt;, IExternalLinkFlag&gt;&gt;[] linkFlags)</a></li>
</ul>
<p><a class="xref" href="../../../api/XData.Mapping.Dynamic.IExternalLinkAdapter-2.html">IExternalLinkAdapter&lt;T, TChild&gt;</a> used to specify properties of external link: </p>
<ul>
<li><em><a class="xref" href="../../../api/XData.Mapping.Dynamic.IExternalLinkAdapter-2.html#XData_Mapping_Dynamic_IExternalLinkAdapter_2_Filter_System_Linq_Expressions_Expression_System_Func__1_XData_DataSource_Structure_RuntimeFilter___">Filter</a></em> - used to specify external link runtime filter,</li>
<li><em><a class="xref" href="../../../api/XData.Mapping.Dynamic.IExternalLinkAdapter-2.html#XData_Mapping_Dynamic_IExternalLinkAdapter_2_FilterCombination_System_String_">FilterCombination</a></em> - used to set filter group of filter,</li>
<li><em><a class="xref" href="../../../api/XData.Mapping.Dynamic.IExternalLinkAdapter-2.html#XData_Mapping_Dynamic_IExternalLinkAdapter_2_DirectLink">DirectLink</a></em> - used to set direct link flag, see <a href="../../../tips/tree_childs.html">tree master-detail specifics</a> for details, </li>
<li><em><a class="xref" href="../../../api/XData.Mapping.Dynamic.IExternalLinkAdapter-2.html#XData_Mapping_Dynamic_IExternalLinkAdapter_2_MasterRefresh">MasterRefresh</a></em> - used to set refresh master repository current row data on submit details changes flag (usefull when master has calculated properties over detail repository data),</li>
<li><em><a class="xref" href="../../../api/XData.Mapping.Dynamic.IExternalLinkAdapter-2.html#XData_Mapping_Dynamic_IExternalLinkAdapter_2_Nullable_XData_FilterNullable_">Nullable</a></em> - <a href="../../glossary.html#filter-null-processing-behaviour">filter null processing behaviour</a>,</li>
<li><em><a class="xref" href="../../../api/XData.Mapping.Dynamic.IExternalLinkAdapter-2.html#XData_Mapping_Dynamic_IExternalLinkAdapter_2_Operation_XData_FilterOperation_">Operation</a></em> - link filter operation (see <a href="dynamic.html#filters">Filters</a>),</li>
<li><em><a class="xref" href="../../../api/XData.Mapping.Dynamic.IExternalLinkAdapter-2.html#XData_Mapping_Dynamic_IExternalLinkAdapter_2_PrimaryFilter">PrimaryFilter</a></em> - used to specify external link is optional filter,</li>
<li><em><a class="xref" href="../../../api/XData.Mapping.Dynamic.IExternalLinkAdapter-2.html#XData_Mapping_Dynamic_IExternalLinkAdapter_2_Property_System_Linq_Expressions_Expression_System_Func__1_System_Object___">Property</a></em> - link property in master repository (used when property is <a href="../mapping.html#hidden-properties">hidden peroperty</a>),</li>
<li><em><a class="xref" href="../../../api/XData.Mapping.Dynamic.IExternalLinkAdapter-2.html#XData_Mapping_Dynamic_IExternalLinkAdapter_2_Property__1_System_Linq_Expressions_Expression_System_Func___0_System_Object___">Property&lt;TChildLink&gt;</a></em> - link property in master repository (used when property is actual property), </li>
<li><em><a class="xref" href="../../../api/XData.Mapping.Dynamic.IExternalLinkAdapter-2.html#XData_Mapping_Dynamic_IExternalLinkAdapter_2_TreeFilter">TreeFilter</a></em> - used to set external link filter&#39;s tree filter flag</li>
</ul>
<pre><code class="lang-csharp">// when external link used hidden property
..., x =&gt; x.ExternalLink&lt;InvoiceSpec&gt;(&quot;DocId&quot;))
// when external link used readonly or regular property
..., x =&gt; x.ExternalLink&lt;InvoiceSpec&gt;(z =&gt; z.DocId))
</code></pre><h3 id="sql-procedures--functions">SQL procedures &amp; functions</h3>
<p>Common information about mapping to SQL procedures and functions described in <a href="../mapping.html#sql-functions--procedures">common mapping rules description</a> and here we just reprensent dynamic mapping rules for various procedure types.</p>
<h4 id="sql-procedure-as-query">SQL procedure as query</h4>
<p>To define procedure as data source of mapping used <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_Procedure_System_String_System_String_XData_ProcedureType_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IInnerFilterAdapter_XData_Mapping_Dynamic_IFilterDescription_____">Procedure</a> method call of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html">IRepositoryStructure&lt;T&gt;</a> interface.</p>
<h4 id="sql-procedure-parameter">SQL procedure parameter</h4>
<p>To define SQL procedure parameter used <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_Parameter__1_System_String_System_Int32_System_String_System_Data_DbType_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IProcedureParameterAdapter_XData_Mapping_Dynamic_IProcedureParameterFlag_____">Parameter</a> method call of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html">IRepositoryStructure&lt;T&gt;</a> interface.</p>
<h4 id="sql-procedure-resultset">SQL procedure resultset</h4>
<p>To describe resultset of SQL procedure used <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html#XData_Mapping_Dynamic_IRepositoryStructure_1_Return__1_System_String_System_String_System_Int32_System_Linq_Expressions_Expression_System_Func_XData_Mapping_Dynamic_IQueryStructureAdapter__0___">Return</a> method call of <a class="xref" href="../../../api/XData.Mapping.Dynamic.IRepositoryStructure-1.html">IRepositoryStructure&lt;T&gt;</a> interface.</p>
<h4 id="sql-procedure-resultset-as-query-sample">SQL procedure resultset as query sample</h4>
<pre><code class="lang-csharp">var res = XDataMapping.GetStructure(&quot;T&quot;, DataScope.DefaultContext)
    .Procedure(&quot;T&quot;, &quot;dbo.TestProcedure&quot;, ProcedureType.Procedure)
    .Parameter&lt;int&gt;(&quot;T&quot;, 1, &quot;param1&quot;, DbType.Int32)
    .Parameter&lt;string&gt;(&quot;T&quot;, 2, &quot;param2&quot;, DbType.String)
    .Return(&quot;T&quot;, &quot;Result&quot;, 1, convertor)
    .Call&lt;Classifier&gt;(DataScope.Layer, &quot;Result&quot;, 
        &quot;param1&quot;.SetVar(1), &quot;param2&quot;.SetVar(&quot;Test&quot;));
foreach (var classifier in res)
    Console.WriteLine(&quot;{0} - \&quot;{1}\&quot;&quot;, classifier.Id, classifier.Name);
</code></pre><h4 id="sql-procedure-with-multiple-resultsets-sample">SQL procedure with multiple resultsets sample</h4>
<pre><code class="lang-csharp">var res2 = XDataMapping.GetStructure(&quot;T&quot;, DataScope.DefaultContext)
    .Procedure(&quot;T&quot;, &quot;dbo.TestProcedure2&quot;, ProcedureType.Procedure)
    .Parameter&lt;int&gt;(&quot;T&quot;, 1, &quot;param1&quot;, DbType.Int32)
    .Parameter&lt;string&gt;(&quot;T&quot;, 2, &quot;param2&quot;, DbType.String)
    .Parameter&lt;int&gt;(&quot;T&quot;, 3, &quot;param3&quot;, DbType.Int32)
    .Parameter&lt;string&gt;(&quot;T&quot;, 4, &quot;param4&quot;, DbType.String)
    .Return(&quot;T&quot;, &quot;Result1&quot;, 1, convertor)
    .Return(&quot;T&quot;, &quot;Result2&quot;, 2, convertor)
    .Call&lt;Classifier&gt;(DataScope.Layer, &quot;Result1&quot;, &quot;param1&quot;.SetVar(1), 
        &quot;param2&quot;.SetVar(&quot;Test&quot;), &quot;param3&quot;.SetVar(2), &quot;param4&quot;.SetVar(&quot;Some&quot;));
foreach (var classifier in res2)
    Console.WriteLine(&quot;{0} - \&quot;{1}\&quot;&quot;, classifier.Id, classifier.Name);
foreach (var classifier in res2.GetResultSet&lt;Classifier&gt;(&quot;Result2&quot;))
    Console.WriteLine(&quot;{0} - \&quot;{1}\&quot;&quot;, classifier.Id, classifier.Name);
</code></pre><h4 id="sql-procedure-with-out-parameter-sample">SQL procedure with out parameter sample</h4>
<pre><code class="lang-csharp">var res3 = XDataMapping.GetStructure(&quot;T&quot;, DataScope.DefaultContext)
    .Procedure(&quot;T&quot;, &quot;dbo.TestProcedure3&quot;, ProcedureType.Procedure)
    .Parameter&lt;int&gt;(&quot;T&quot;, 1, &quot;param1&quot;, DbType.Int32)
    .Parameter&lt;string&gt;(&quot;T&quot;, 2, &quot;param2&quot;, DbType.String)
    .Parameter&lt;string&gt;(&quot;T&quot;, 3, &quot;param3&quot;, DbType.String, 
        z =&gt; z.Size(20), z =&gt; z.Direction(ParameterDirection.Output))
    .Call(DataScope.Layer, 
        &quot;param1&quot;.SetVar(1), &quot;param2&quot;.SetVar(&quot;Test&quot;));
Console.WriteLine(res3.GetParameter&lt;string&gt;(&quot;param3&quot;));
</code></pre><h4 id="sql-procedure-with-out-parameter-and-resultset-sample">SQL procedure with out parameter and resultset sample</h4>
<pre><code class="lang-csharp">var res4 = XDataMapping.GetStructure(&quot;T&quot;, DataScope.DefaultContext)
    .Procedure(&quot;T&quot;, &quot;dbo.TestProcedure4&quot;, ProcedureType.Procedure)
    .Parameter&lt;int&gt;(&quot;T&quot;, 1, &quot;param1&quot;, DbType.Int32)
    .Parameter&lt;string&gt;(&quot;T&quot;, 2, &quot;param2&quot;, DbType.String)
    .Parameter&lt;int&gt;(&quot;T&quot;, 3, &quot;result&quot;, DbType.Int32, 
        z =&gt; z.Direction(ParameterDirection.ReturnValue))
    .Return(&quot;T&quot;, &quot;Result&quot;, 1, x =&gt; new Classifier { 
        Id = x.Field&lt;int&gt;(z =&gt; z.Key()), Name = x.Field&lt;string&gt;() })
    .Call&lt;Classifier&gt;(DataScope.Layer, &quot;Result&quot;, 
        &quot;param1&quot;.SetVar(1), &quot;param2&quot;.SetVar(&quot;Test&quot;));
Console.WriteLine(res4.GetParameter&lt;int&gt;(&quot;result&quot;));
foreach (var classifier in res4)
    Console.WriteLine(&quot;{0} - \&quot;{1}\&quot;&quot;, classifier.Id, classifier.Name);
</code></pre><h4 id="sql-procedure-with-return-value-sample">SQL procedure with return value sample</h4>
<pre><code class="lang-csharp">var res5 = XDataMapping.GetStructure(&quot;T&quot;, DataScope.DefaultContext)
    .Procedure(&quot;T&quot;, &quot;dbo.TestProcedure5&quot;, ProcedureType.Procedure)
    .Parameter&lt;int&gt;(&quot;T&quot;, 1, &quot;param1&quot;, DbType.Int32)
    .Parameter&lt;string&gt;(&quot;T&quot;, 2, &quot;param2&quot;, DbType.String)
    .Parameter&lt;int&gt;(&quot;T&quot;, 3, &quot;result&quot;, DbType.Int32, 
        z =&gt; z.Direction(ParameterDirection.ReturnValue))
    .Call&lt;Classifier&gt;(DataScope.Layer, &quot;Result&quot;, 
        &quot;param1&quot;.SetVar(1), &quot;param2&quot;.SetVar(&quot;Test&quot;));
Console.WriteLine(res5.GetParameter&lt;int&gt;(&quot;result&quot;));
</code></pre><h4 id="sql-procedure-with-return-value-and-resultset-sample">SQL procedure with return value and resultset sample</h4>
<pre><code class="lang-csharp">var res6 = XDataMapping.GetStructure(&quot;T&quot;, DataScope.DefaultContext)
    .Procedure(&quot;T&quot;, &quot;dbo.TestProcedure6&quot;, ProcedureType.Procedure)
    .Parameter&lt;Classifier[]&gt;(&quot;T&quot;, 1, &quot;param1&quot;, DbType.Object, 
        z =&gt; z.UdtDataType(null, &quot;dbo.Classifier&quot;))
    .Return(&quot;T&quot;, &quot;Result&quot;, 1, x =&gt; new Classifier { 
        Id = x.Field&lt;int&gt;(z =&gt; z.Key()), Name = x.Field&lt;string&gt;() })
    .Call&lt;Classifier&gt;(DataScope.Layer, &quot;Result&quot;, &quot;param1&quot;.SetVar(param));
foreach (var classifier in res6)
    Console.WriteLine(&quot;{0} - \&quot;{1}\&quot;&quot;, classifier.Id, classifier.Name);
</code></pre><h4 id="sql-procedure-with-simple-array-parameter-sample">SQL procedure with simple array parameter sample</h4>
<pre><code class="lang-csharp">var arr = new[] { 1, 2, 3 };
var f6 = XDataMapping.GetStructure(&quot;T&quot;, DataScope.DefaultContext)
    .Procedure(&quot;T&quot;, &quot;TestFunction6&quot;, ProcedureType.Function)
    .Parameter&lt;int[]&gt;(&quot;T&quot;, 1, &quot;p_arr&quot;, DbType.Int32, z =&gt; z.Array())
    .Parameter&lt;int&gt;(&quot;T&quot;, 2, &quot;result&quot;, DbType.Int32, 
        z =&gt; z.Direction(ParameterDirection.ReturnValue))
    .Call(DataScope.Layer, &quot;p_arr&quot;.SetVar(arr));
Console.WriteLine(f6.GetParameter&lt;int&gt;(&quot;result&quot;));
</code></pre><h4 id="sql-procedure-with-udt-parameter-sample">SQL procedure with UDT parameter sample</h4>
<pre><code class="lang-csharp">/* Type mapped to UDT required to be Xml serializable */
[Serializable]
public class Classifier
{
    [XmlAttribute]
    public int Id { get; set; }
    [XmlAttribute]
    public string Name { get; set; }
}
...
var f5 = XDataMapping.GetStructure(&quot;T&quot;, DataScope.DefaultContext)
    .Procedure(&quot;T&quot;, &quot;TestFunction5&quot;, ProcedureType.Function)
    .Parameter&lt;Classifier&gt;(&quot;T&quot;, 1, &quot;p_obj&quot;, DbType.Object, 
        z =&gt; z.UdtDataType(&quot;classifier_rec&quot;))
    .Parameter&lt;string&gt;(&quot;T&quot;, 3, &quot;result&quot;, DbType.String, 
        z =&gt; z.Size(20),
        z =&gt; z.Direction(ParameterDirection.ReturnValue), 
        z =&gt; z.NativeSqlType(&quot;VARCHAR&quot;))
    .Call(DataScope.Layer, &quot;p_obj&quot;.SetVar(
        new Classifier { Id = 1, Name = &quot;Test&quot; }));
Console.WriteLine(f5.GetParameter&lt;string&gt;(&quot;result&quot;));
</code></pre><h4 id="sql-procedure-with-udt-array-parameter-sample">SQL procedure with UDT array parameter sample</h4>
<pre><code class="lang-csharp">/* Type mapped to UDT required to be Xml serializable */
[Serializable]
public class Classifier
{
    [XmlAttribute]
    public int Id { get; set; }
    [XmlAttribute]
    public string Name { get; set; }
}
...
var param = new[] { new Classifier { Id = 1, Name = &quot;Test&quot; },
    new Classifier { Id = 2, Name = &quot;Some&quot; } };
var f4 = XDataMapping.GetStructure(&quot;T&quot;, DataScope.DefaultContext)
    .Procedure(&quot;T&quot;, &quot;dbo.TestFunction4&quot;, ProcedureType.Function)
    .Parameter&lt;Classifier[]&gt;(&quot;T&quot;, 1, &quot;param1&quot;, DbType.Object, 
        z =&gt; z.UdtDataType(null, &quot;dbo.Classifier&quot;))
    .Parameter&lt;int&gt;(&quot;T&quot;, 2, &quot;result&quot;, DbType.Int32, 
        z =&gt; z.Direction(ParameterDirection.ReturnValue))
    .Call(DataScope.Layer, &quot;param1&quot;.SetVar(param));
Console.WriteLine(f4.GetParameter&lt;int&gt;(&quot;result&quot;));
</code></pre><h4 id="sql-table-valued-function-as-query-sample">SQL table valued function as query sample</h4>
<pre><code class="lang-csharp">var f3 = XDataMapping.GetStructure(context: DataScope.DefaultContext)
    .Procedure(&quot;T&quot;, &quot;dbo.TestFunction3&quot;, ProcedureType.Function)
    .Parameter&lt;Classifier[]&gt;(&quot;T&quot;, 1, &quot;param1&quot;, DbType.Object, 
        z =&gt; z.UdtDataType(&quot;dbo.Classifier&quot;))
    .Select(x =&gt; new Classifier { 
        Id = x.Field&lt;int&gt;(&quot;T&quot;, &quot;Id&quot;, z =&gt; z.Key()), 
        Name = x.Field&lt;string&gt;(&quot;T&quot;, &quot;Name&quot;) })
    .AsQuery(DataScope.Layer, &quot;param1&quot;.SetVar(param));
foreach (var classifier in f3)
    Console.WriteLine(&quot;{0} - \&quot;{1}\&quot;&quot;, classifier.Id, classifier.Name);
</code></pre><h4 id="sql-scalar-function-as-property-data-source-sample">SQL scalar function as property data source sample</h4>
<pre><code class="lang-csharp">var f1 = XDataMapping.GetStructure(context: DataScope.DefaultContext)
    .Procedure(&quot;T&quot;, &quot;dbo.TestFunction&quot;, ProcedureType.Function)
    .Parameter&lt;int&gt;(&quot;T&quot;, 1, &quot;param1&quot;, DbType.Int32)
    .Parameter&lt;string&gt;(&quot;T&quot;, 2, &quot;param2&quot;, DbType.String)
    .Select(x =&gt; new Classifier { 
        Id = x.Field&lt;int&gt;(&quot;T&quot;, &quot;Id&quot;, z =&gt; z.Key()), 
        Name = x.Field&lt;string&gt;(&quot;T&quot;, &quot;Name&quot;) })
    .AsQuery(DataScope.Layer, 
        &quot;param1&quot;.SetVar(1), &quot;param2&quot;.SetVar(&quot;Test&quot;));
foreach (var classifier in f1)
    Console.WriteLine(&quot;{0} - \&quot;{1}\&quot;&quot;, classifier.Id, classifier.Name);
</code></pre></article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/mickfierte/private/blob/main/doc/tutorial/mapping/dynamic/dynamic.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
